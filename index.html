<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#d97706">
  <meta name="description" content="Independence - Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð³Ñ€Ð° Ð¾ Ð¿Ð¾Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼Ð°Ñ…">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Independence">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" type="image/svg+xml" href="/icon-192.svg">
  <title>Independence - Civic Education Game</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Raleway:wght@300;400;600;700&display=swap');
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    html,body{margin:0;padding:0;font-family:'Raleway',sans-serif;background:#0f172a;overscroll-behavior:none}
    .safe-top{padding-top:env(safe-area-inset-top)}.safe-bottom{padding-bottom:env(safe-area-inset-bottom)}
    .font-display{font-family:'Cinzel',serif}
    .gold-gradient{background:linear-gradient(180deg,#fbbf24 0%,#d97706 50%,#92400e 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    input[type="range"]{-webkit-appearance:none;height:8px;border-radius:4px}
    input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;border-radius:50%;background:linear-gradient(180deg,#fbbf24,#d97706);cursor:pointer}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes slideUp{from{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}
    @keyframes pulse{0%,100%{opacity:1}50%{opacity:.6}}
    @keyframes spin{to{transform:rotate(360deg)}}
    .animate-fadeIn{animation:fadeIn .3s ease-out}.animate-slideUp{animation:slideUp .4s ease-out}
    .animate-pulse{animation:pulse 2s infinite}.animate-spin{animation:spin 1s linear infinite}
    button{min-height:44px;cursor:pointer;transition:all .15s}button:active{transform:scale(.97)}
    .modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem}
    .toast{position:fixed;top:1rem;left:50%;transform:translateX(-50%);z-index:200;max-width:90%}
    .star-bg{position:fixed;inset:0;overflow:hidden;pointer-events:none;z-index:0}
    .star{position:absolute;width:2px;height:2px;background:white;border-radius:50%;opacity:.5}
  </style>
</head>
<body class="safe-top safe-bottom">
  <div id="root"></div>
  <script type="text/babel">
    const{useState,useEffect,useCallback,createContext,useContext,useMemo}=React;

    // ===== CONFIG =====
    const SUPABASE_URL='https://dnkeinsedcrlhwbiycfo.supabase.co';
    const SUPABASE_ANON_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRua2VpbnNlZGNybGh3Yml5Y2ZvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NDg0MjgsImV4cCI6MjA4NDMyNDQyOH0.9IkWv6dwOemaVwvWrwq7ZzuebrgWI83JWrdaZbzdhhw';
    const supabase=window.supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);
    const STRIPE_KEY='pk_live_51SrFQOH02sKb65Xcey2pn7bvJhJQ1EqpjYyAoiVKK3OmGZjlKCMRmuX4t6zUitqQ2RHI7MIceHAkHYadAi4r31D900L7ki97pX';

    // ===== LOCALIZATION =====
    const T={
      ui:{
        title:{ru:'INDEPENDENCE',en:'INDEPENDENCE',de:'INDEPENDENCE'},
        subtitle:{ru:'ÐžÐ‘Ð ÐÐ—ÐžÐ’ÐÐ¢Ð•Ð›Ð¬ÐÐÐ¯ Ð˜Ð“Ð Ð Ðž ÐŸÐžÐ›Ð˜Ð¢Ð˜ÐšÐ•',en:'CIVIC EDUCATION GAME',de:'POLITISCHES BILDUNGSSPIEL'},
        login:{ru:'Ð’Ð¾Ð¹Ñ‚Ð¸',en:'Login',de:'Anmelden'},
        register:{ru:'Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ',en:'Register',de:'Registrieren'},
        premium:{ru:'Premium',en:'Premium',de:'Premium'},
        premiumPrice:{ru:'Â£2.99/Ð¼ÐµÑ',en:'Â£2.99/mo',de:'Â£2.99/Mo'},
        startGame:{ru:'ÐÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¸Ð³Ñ€Ñƒ',en:'Start Game',de:'Spiel starten'},
        year:{ru:'Ð“Ð¾Ð´',en:'Year',de:'Jahr'},
        submit:{ru:'Ð£Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ Ð±ÑŽÐ´Ð¶ÐµÑ‚',en:'Submit Budget',de:'Budget bestÃ¤tigen'},
        happiness:{ru:'Ð¡Ñ‡Ð°ÑÑ‚ÑŒÐµ',en:'Happiness',de:'Zufriedenheit'},
        wealth:{ru:'Ð‘Ð¾Ð³Ð°Ñ‚ÑÑ‚Ð²Ð¾',en:'Wealth',de:'Wohlstand'},
        stability:{ru:'Ð¡Ñ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ',en:'Stability',de:'StabilitÃ¤t'},
        budget:{ru:'Ð‘ÑŽÐ´Ð¶ÐµÑ‚',en:'Budget',de:'Budget'},
        remaining:{ru:'ÐžÑÑ‚Ð°Ñ‚Ð¾Ðº',en:'Remaining',de:'Verbleibend'},
        victory:{ru:'ÐŸÐžÐ‘Ð•Ð”Ð!',en:'VICTORY!',de:'SIEG!'},
        defeat:{ru:'ÐŸÐžÐ ÐÐ–Ð•ÐÐ˜Ð•',en:'DEFEAT',de:'NIEDERLAGE'},
        playAgain:{ru:'Ð˜Ð³Ñ€Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°',en:'Play Again',de:'Nochmal spielen'},
        back:{ru:'ÐÐ°Ð·Ð°Ð´',en:'Back',de:'ZurÃ¼ck'},
        next:{ru:'Ð”Ð°Ð»ÐµÐµ',en:'Next',de:'Weiter'},
        skip:{ru:'ÐŸÑ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ',en:'Skip',de:'Ãœberspringen'},
        close:{ru:'Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ',en:'Close',de:'SchlieÃŸen'},
        easy:{ru:'Ð›ÐµÐ³ÐºÐ¾',en:'Easy',de:'Leicht'},
        normal:{ru:'ÐÐ¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾',en:'Normal',de:'Normal'},
        hard:{ru:'Ð¡Ð»Ð¾Ð¶Ð½Ð¾',en:'Hard',de:'Schwer'},
        years:{ru:'Ð»ÐµÑ‚',en:'years',de:'Jahre'},
        choosePlanet:{ru:'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð»Ð°Ð½ÐµÑ‚Ñƒ',en:'Choose Planet',de:'Planet wÃ¤hlen'},
        score:{ru:'ÐžÑ‡ÐºÐ¸',en:'Score',de:'Punkte'},
        signOut:{ru:'Ð’Ñ‹Ð¹Ñ‚Ð¸',en:'Sign Out',de:'Abmelden'},
        email:{ru:'Email',en:'Email',de:'E-Mail'},
        password:{ru:'ÐŸÐ°Ñ€Ð¾Ð»ÑŒ',en:'Password',de:'Passwort'},
        username:{ru:'Ð˜Ð¼Ñ',en:'Username',de:'Name'},
        loading:{ru:'Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...',en:'Loading...',de:'LÃ¤dt...'},
        selectLanguage:{ru:'Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐ·Ñ‹Ðº',en:'Select Language',de:'Sprache wÃ¤hlen'},
        advancedSettings:{ru:'Ð Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸',en:'Advanced Settings',de:'Erweiterte Einstellungen'},
        target:{ru:'Ð¦ÐµÐ»ÑŒ',en:'Target',de:'Ziel'},
        gameLength:{ru:'Ð”Ð»Ð¸Ð½Ð° Ð¸Ð³Ñ€Ñ‹',en:'Game length',de:'SpiellÃ¤nge'},
        eventsPerTurn:{ru:'Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð·Ð° Ñ…Ð¾Ð´',en:'Events per turn',de:'Ereignisse pro Zug'},
        difficulty:{ru:'Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ',en:'Difficulty',de:'Schwierigkeit'},
        politicalSystem:{ru:'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸ÑÑ‚ÐµÐ¼Ð°',en:'Political System',de:'Politisches System'},
      },
      intro:{
        title:{ru:'ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼, ÑƒÐ²Ð°Ð¶Ð°ÐµÐ¼Ñ‹Ð¹ ÐžÑÐ½Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ!',en:'Congratulations, esteemed Founder!',de:'Herzlichen GlÃ¼ckwunsch, geschÃ¤tzter GrÃ¼nder!'},
        p1:{ru:'ÐŸÐ¾ÐºÐ° Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡ÐµÐ»Ð¾Ð²ÐµÑ‡ÐµÑÑ‚Ð²Ð¾ Ð¿Ð¾Ð³Ñ€ÑÐ·Ð»Ð¾ Ð² Ð±ÑŽÑ€Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÐ¿Ð¾Ñ€Ð°Ñ… Ð¾ Ñ‚Ð¾Ð¼, ÐºÐ¾Ð¼Ñƒ Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð¸Ñ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð±Ð°Ð½ÐºÐ° ÐºÐ¾Ð½ÑÐµÑ€Ð²Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ ÐºÐ¸ÑÐ»Ð¾Ñ€Ð¾Ð´Ð°, Ð²Ñ‹ Ð¿Ñ€Ð¾ÑÐ²Ð¸Ð»Ð¸ Ð¸Ð½Ð¸Ñ†Ð¸Ð°Ñ‚Ð¸Ð²Ñƒ.',en:'While the rest of humanity was busy arguing over who owns the last can of preserved oxygen, you took initiative.',de:'WÃ¤hrend der Rest der Menschheit sich darÃ¼ber stritt, wem die letzte Dose Sauerstoffkonserven gehÃ¶rt, haben Sie Initiative ergriffen.'},
        p2:{ru:'Ð’Ð°Ñˆ ÐºÐ¾Ñ€Ð°Ð±Ð»ÑŒ Ñ Ñ‚Ñ‹ÑÑÑ‡ÐµÐ¹ ÐºÐ¾Ð»Ð¾Ð½Ð¸ÑÑ‚Ð¾Ð² Ð¿Ñ€Ð¸Ð·ÐµÐ¼Ð»Ð¸Ð»ÑÑ Ð½Ð° Ð¿Ð»Ð°Ð½ÐµÑ‚Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð½Ð¸ÐºÑ‚Ð¾ Ð½Ðµ ÑƒÑÐ¿ÐµÐ» Ð·Ð°ÑÑ‚Ð¾Ð»Ð±Ð¸Ñ‚ÑŒ. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ â€” Ð¿Ð¾ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð¾ Ñ Ð½ÑƒÐ»Ñ.',en:'Your ship carrying a thousand colonists has landed on a planet nobody bothered to claim. Now you have a unique opportunity â€” to build a perfect society from scratch.',de:'Ihr Schiff mit tausend Kolonisten ist auf einem Planeten gelandet, den niemand beansprucht hat. Jetzt haben Sie eine einzigartige Gelegenheit â€” eine perfekte Gesellschaft von Grund auf aufzubauen.'},
        p3:{ru:'Ð˜Ð»Ð¸, ÐºÐ°Ðº Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð¸ÑÑ‚Ð¾Ñ€Ð¸Ñ, Ð¾Ñ‡ÐµÑ€ÐµÐ´Ð½Ð¾Ðµ Ð½ÐµÐ¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ. ÐÐ¾ ÐºÑ‚Ð¾ Ð¼Ñ‹ Ñ‚Ð°ÐºÐ¸Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ ÑÑƒÐ´Ð¸Ñ‚ÑŒ?',en:'Or, as history suggests, yet another imperfect one. But who are we to judge?',de:'Oder, wie die Geschichte zeigt, eine weitere unvollkommene. Aber wer sind wir, um zu urteilen?'},
        mission:{ru:'Ð’Ð°ÑˆÐ° Ð·Ð°Ð´Ð°Ñ‡Ð°: ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ†Ð²ÐµÑ‚Ð°ÑŽÑ‰ÑƒÑŽ Ñ†Ð¸Ð²Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ, Ð¸Ð·Ð±ÐµÐ¶Ð°Ð² Ð¿Ñ€Ð¸ ÑÑ‚Ð¾Ð¼ Ñ€ÐµÐ²Ð¾Ð»ÑŽÑ†Ð¸Ð¹, Ð³Ð¾Ð»Ð¾Ð´Ð½Ñ‹Ñ… Ð±ÑƒÐ½Ñ‚Ð¾Ð² Ð¸ Ð½ÐµÐ»Ð¾Ð²ÐºÐ¸Ñ… ÑÐ¸Ñ‚ÑƒÐ°Ñ†Ð¸Ð¹ Ñ ÑÐ¾ÑÐµÐ´Ð½Ð¸Ð¼Ð¸ ÐºÐ¾Ð»Ð¾Ð½Ð¸ÑÐ¼Ð¸.',en:'Your mission: create a thriving civilization while avoiding revolutions, food riots, and awkward situations with neighboring colonies.',de:'Ihre Mission: eine blÃ¼hende Zivilisation aufbauen und dabei Revolutionen, HungeraufstÃ¤nde und peinliche Situationen mit Nachbarkolonien vermeiden.'},
      },
      systems:{
        parliamentary:{name:{ru:'ÐŸÐ°Ñ€Ð»Ð°Ð¼ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ð´ÐµÐ¼Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ',en:'Parliamentary Democracy',de:'Parlamentarische Demokratie'},leader:{ru:'ÐŸÑ€ÐµÐ¼ÑŒÐµÑ€-Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€',en:'Prime Minister',de:'Premierminister'},desc:{ru:'Ð’Ñ‹ Ñ€ÐµÑˆÐ¸Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð»ÑƒÑ‡ÑˆÐ¸Ð¹ ÑÐ¿Ð¾ÑÐ¾Ð± ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÑ‚ÑŒ â€” ÑÑ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»Ð¸Ñ‚ÑŒ Ð»ÑŽÐ´ÑÐ¼ ÑÐ¿Ð¾Ñ€Ð¸Ñ‚ÑŒ Ð´Ð¾ Ñ…Ñ€Ð¸Ð¿Ð¾Ñ‚Ñ‹, Ð° Ð¿Ð¾Ñ‚Ð¾Ð¼ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ñ‚ÑŒ. ÐÐ° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐµ Ð² Ð´Ð¸ÑÐºÑƒÑÑÐ¸Ð¸ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ñ€Ð¾Ð¶Ð´Ð°ÐµÑ‚ÑÑ Ð³Ð¾Ð»Ð¾Ð²Ð½Ð°Ñ Ð±Ð¾Ð»ÑŒ, Ð½Ð¾ ÑÑ‚Ð¾ Ð´ÐµÑ‚Ð°Ð»Ð¸.',en:'You\'ve decided the best way to govern is to let people argue until hoarse, then vote. In practice, discussions produce headaches, but that\'s a minor detail.',de:'Sie haben entschieden, dass der beste Weg zu regieren darin besteht, die Menschen diskutieren zu lassen und dann abzustimmen.'},pros:{ru:'Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ð´Ð¾Ð²Ð¾Ð»ÑŒÐ½Ñ‹Ðµ Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½Ðµ',en:'High stability, satisfied citizens',de:'Hohe StabilitÃ¤t, zufriedene BÃ¼rger'},cons:{ru:'ÐœÐµÐ´Ð»ÐµÐ½Ð½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ, ÐºÐ¾Ð°Ð»Ð¸Ñ†Ð¸Ð¸ Ñ€Ð°Ð·Ð²Ð°Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ',en:'Slow decisions, coalitions collapse',de:'Langsame Entscheidungen, Koalitionen zerfallen'}},
        presidential:{name:{ru:'ÐŸÑ€ÐµÐ·Ð¸Ð´ÐµÐ½Ñ‚ÑÐºÐ°Ñ Ñ€ÐµÑÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ°',en:'Presidential Republic',de:'PrÃ¤sidialrepublik'},leader:{ru:'ÐŸÑ€ÐµÐ·Ð¸Ð´ÐµÐ½Ñ‚',en:'President',de:'PrÃ¤sident'},desc:{ru:'ÐžÐ´Ð¸Ð½ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº, Ð¼Ð½Ð¾Ð³Ð¾ Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸, Ð¸ Ð½Ð¸ÐºÐ¾Ð³Ð¾, Ð½Ð° ÐºÐ¾Ð³Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ²Ð°Ð»Ð¸Ñ‚ÑŒ Ð²Ð¸Ð½Ñƒ. ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ð¼Ð°Ð½Ð´Ð°Ñ‚ Ð½Ð°Ñ€Ð¾Ð´Ð° Ð¸ Ð¿Ð¾Ð»Ð½Ð°Ñ ÑÐ²Ð¾Ð±Ð¾Ð´Ð° Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ â€” Ð² Ñ€Ð°Ð¼ÐºÐ°Ñ… ÐºÐ¾Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ†Ð¸Ð¸, ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð²Ñ‹ Ð¶Ðµ Ð¸ Ð½Ð°Ð¿Ð¸ÑÐ°Ð»Ð¸.',en:'One person, lots of responsibility, and nobody to blame. Direct mandate and complete freedom â€” within the constitution you wrote yourself.',de:'Eine Person, viel Verantwortung, und niemand zum Beschuldigen. Direktes Mandat und volle Handlungsfreiheit.'},pros:{ru:'Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ, Ð±Ð¾Ð½ÑƒÑ Ðº Ð±Ð¾Ð³Ð°Ñ‚ÑÑ‚Ð²Ñƒ',en:'Fast decisions, wealth bonus',de:'Schnelle Entscheidungen, Wohlstandsbonus'},cons:{ru:'Ð’ÑÑ‘ Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð²Ð°Ñ, Ð¾Ð¿Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ Ð½Ðµ Ð´Ñ€ÐµÐ¼Ð»ÐµÑ‚',en:'Everything depends on you, opposition never sleeps',de:'Alles hÃ¤ngt von Ihnen ab'}},
        monarchy:{name:{ru:'ÐšÐ¾Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¼Ð¾Ð½Ð°Ñ€Ñ…Ð¸Ñ',en:'Constitutional Monarchy',de:'Konstitutionelle Monarchie'},leader:{ru:'ÐœÐ¾Ð½Ð°Ñ€Ñ…',en:'Monarch',de:'Monarch'},desc:{ru:'Ð—Ð°Ñ‡ÐµÐ¼ Ð²Ñ‹Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð»Ð¸Ð´ÐµÑ€Ð° ÐºÐ°Ð¶Ð´Ñ‹Ðµ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»ÐµÑ‚, ÐµÑÐ»Ð¸ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ€Ð¾Ð´Ð¸Ñ‚ÑŒÑÑ Ð¸Ð¼? ÐœÐ¾Ð½Ð°Ñ€Ñ…Ð¸Ñ â€” ÑÑ‚Ð¾ Ñ‚Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¸, ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð¸ ÐºÑ€Ð°ÑÐ¸Ð²Ñ‹Ðµ Ñ†ÐµÑ€ÐµÐ¼Ð¾Ð½Ð¸Ð¸. Ð ÐµÑ‰Ñ‘ ÑÐµÐ¼ÐµÐ¹Ð½Ñ‹Ðµ Ð´Ñ€Ð°Ð¼Ñ‹.',en:'Why elect a leader every few years when you can simply be born one? Monarchy means traditions, stability, and beautiful ceremonies. Also family dramas.',de:'Warum alle paar Jahre einen FÃ¼hrer wÃ¤hlen, wenn man einfach als einer geboren werden kann? Traditionen, StabilitÃ¤t und schÃ¶ne Zeremonien.'},pros:{ru:'ÐŸÑ€ÐµÐµÐ¼ÑÑ‚Ð²ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ Ð²Ð»Ð°ÑÑ‚Ð¸, +10 ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ',en:'Continuity of power, +10 stability',de:'MachtkontinuitÃ¤t, +10 StabilitÃ¤t'},cons:{ru:'Ð¡ÐºÐ°Ð½Ð´Ð°Ð»Ñ‹ Ð² ÑÐµÐ¼ÑŒÐµ, Ñ€Ð¸ÑÐº Ð²Ð¾ÑÑÑ‚Ð°Ð½Ð¸Ñ',en:'Family scandals, rebellion risk',de:'Familienskandale, Aufstandsrisiko'}},
        dictatorship:{name:{ru:'Ð”Ð¸ÐºÑ‚Ð°Ñ‚ÑƒÑ€Ð°',en:'Dictatorship',de:'Diktatur'},leader:{ru:'Ð’ÐµÑ€Ñ…Ð¾Ð²Ð½Ñ‹Ð¹ Ð»Ð¸Ð´ÐµÑ€',en:'Supreme Leader',de:'Oberster FÃ¼hrer'},desc:{ru:'Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµ Ð²ÑÐµÐ³Ð¾! Ð”ÐµÐ¼Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ â€” ÑÑ‚Ð¾ Ð´Ð¾Ð»Ð³Ð¾ Ð¸ ÑÐºÑƒÑ‡Ð½Ð¾, Ð° Ð²Ñ‹ â€” Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð´ÐµÐ»Ð°. Ð’Ð¾Ð¿Ð»Ð¾Ñ‰Ð°Ð¹Ñ‚Ðµ ÑÐ²Ð¾Ñ‘ Ð²Ð¸Ð´ÐµÐ½Ð¸Ðµ Ð±ÐµÐ· ÑƒÑ‚Ð¾Ð¼Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ð¹ Ð¸ ÐºÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑÐ¾Ð².',en:'Efficiency above all! Democracy is slow and boring, and you\'re a person of action. Implement your vision without tedious voting and compromises.',de:'Effizienz Ã¼ber alles! Demokratie ist langsam und langweilig, und Sie sind ein Mensch der Tat.'},pros:{ru:'ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ, +5 ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ',en:'Maximum efficiency, +5 stability',de:'Maximale Effizienz, +5 StabilitÃ¤t'},cons:{ru:'Ð¡Ñ‡Ð°ÑÑ‚ÑŒÐµ Ð¿Ð°Ð´Ð°ÐµÑ‚ ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ñ…Ð¾Ð´, Ñ€Ð¸ÑÐº Ð¿ÐµÑ€ÐµÐ²Ð¾Ñ€Ð¾Ñ‚Ð°',en:'Happiness drops each turn, coup risk',de:'Zufriedenheit sinkt, Putschrisiko'}},
        technocracy:{name:{ru:'Ð¢ÐµÑ…Ð½Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ',en:'Technocracy',de:'Technokratie'},leader:{ru:'Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³',en:'Chief Technologist',de:'Cheftechnologe'},desc:{ru:'ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ¸ â€” ÑÑ‚Ð¾ Ð²Ñ‡ÐµÑ€Ð°ÑˆÐ½Ð¸Ð¹ Ð´ÐµÐ½ÑŒ. Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐµ Ð¿Ñ€Ð¸Ð½Ð°Ð´Ð»ÐµÐ¶Ð¸Ñ‚ ÑÐºÑÐ¿ÐµÑ€Ñ‚Ð°Ð¼! Ð ÐµÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÑŽÑ‚ Ñ‚Ðµ, ÐºÑ‚Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ñ€Ð°Ð·Ð±Ð¸Ñ€Ð°ÐµÑ‚ÑÑ Ð² Ð²Ð¾Ð¿Ñ€Ð¾ÑÐµ. ÐœÐ¸Ð½ÑƒÑ â€” ÑÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹ Ð¸Ð½Ð¾Ð³Ð´Ð° Ð·Ð°Ð±Ñ‹Ð²Ð°ÑŽÑ‚, Ñ‡Ñ‚Ð¾ Ð»ÑŽÐ´Ð¸ ÑÑ‚Ð¾ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð´Ð°Ð½Ð½Ñ‹Ðµ.',en:'Politicians are yesterday\'s news. The future belongs to experts! Decisions are made by those who actually understand. Downside â€” experts sometimes forget people aren\'t just data.',de:'Politiker sind von gestern. Die Zukunft gehÃ¶rt den Experten!'},pros:{ru:'ÐžÐ¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ, +15 Ð±Ð¾Ð³Ð°Ñ‚ÑÑ‚Ð²Ð¾',en:'Optimal decisions, +15 wealth',de:'Optimale Entscheidungen, +15 Wohlstand'},cons:{ru:'ÐÐ°Ñ€Ð¾Ð´ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚ ÑÐµÐ±Ñ Ð¿Ð¾Ð´Ð¾Ð¿Ñ‹Ñ‚Ð½Ñ‹Ð¼Ð¸, -10 ÑÑ‚Ð°Ñ€Ñ‚',en:'People feel like test subjects, -10 start',de:'Menschen fÃ¼hlen sich wie Versuchskaninchen'}},
        direct:{name:{ru:'ÐŸÑ€ÑÐ¼Ð°Ñ Ð´ÐµÐ¼Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ',en:'Direct Democracy',de:'Direkte Demokratie'},leader:{ru:'ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€',en:'Coordinator',de:'Koordinator'},desc:{ru:'ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð³Ð¾Ð»Ð¾Ñ Ð²Ð°Ð¶ÐµÐ½! Ð‘ÑƒÐºÐ²Ð°Ð»ÑŒÐ½Ð¾ ÐºÐ°Ð¶Ð´Ñ‹Ð¹. ÐŸÐ¾ ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑƒ. ÐŸÑ€ÑÐ¼Ð°Ñ Ð´ÐµÐ¼Ð¾ÐºÑ€Ð°Ñ‚Ð¸Ñ â€” ÑÑ‚Ð¾ ÐºÐ¾Ð³Ð´Ð° Ð½Ð°Ñ€Ð¾Ð´ Ñ€ÐµÑˆÐ°ÐµÑ‚ Ð²ÑÑ‘ ÑÐ°Ð¼. Ð—Ð²ÑƒÑ‡Ð¸Ñ‚ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾, Ð¿Ð¾ÐºÐ° Ð²Ñ‹ Ð½Ðµ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐµÑ‚Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑÑ‚Ð¸ Ñ€ÐµÑ„ÐµÑ€ÐµÐ½Ð´ÑƒÐ¼ Ð¾ Ñ†Ð²ÐµÑ‚Ðµ ÑƒÑ€Ð½.',en:'Every voice matters! Literally every one. On every issue. Direct democracy is when people decide everything themselves. Sounds ideal until you try to hold a referendum on trash bin colors.',de:'Jede Stimme zÃ¤hlt! BuchstÃ¤blich jede. Bei jedem Thema.'},pros:{ru:'ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð»ÐµÐ³Ð¸Ñ‚Ð¸Ð¼Ð½Ð¾ÑÑ‚ÑŒ, ÑÑ‡Ð°ÑÑ‚ÑŒÐµ Ñ€Ð°ÑÑ‚Ñ‘Ñ‚',en:'Maximum legitimacy, happiness grows',de:'Maximale LegitimitÃ¤t, Zufriedenheit wÃ¤chst'},cons:{ru:'ÐžÑ‡ÐµÐ½ÑŒ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾, -5 ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, ÑƒÑÑ‚Ð°Ð»Ð¾ÑÑ‚ÑŒ',en:'Very slow, -5 stability, fatigue',de:'Sehr langsam, -5 StabilitÃ¤t'}},
      },
      planets:{
        terranova:{name:{ru:'Ð¢ÐµÑ€Ñ€Ð° ÐÐ¾Ð²Ð°',en:'Terra Nova',de:'Terra Nova'},desc:{ru:'ÐŸÐ»Ð°Ð½ÐµÑ‚Ð°-Ð±Ð»Ð¸Ð·Ð½ÐµÑ† Ð—ÐµÐ¼Ð»Ð¸. Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ ÐºÐ»Ð¸Ð¼Ð°Ñ‚, Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð², Ð½Ð¸ÐºÐ°ÐºÐ¸Ñ… ÑÑŽÑ€Ð¿Ñ€Ð¸Ð·Ð¾Ð². Ð¡ÐºÑƒÑ‡Ð½Ð°Ñ? Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾. ÐŸÑ€Ð¸Ð³Ð¾Ð´Ð½Ð°Ñ Ð´Ð»Ñ Ð¶Ð¸Ð·Ð½Ð¸? ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾.',en:'Earth\'s twin planet. Moderate climate, enough resources, no surprises. Boring? Perhaps. Habitable? Definitely.',de:'ErdÃ¤hnlicher Planet. GemÃ¤ÃŸigtes Klima, genug Ressourcen, keine Ãœberraschungen.'},traits:{ru:'Ð¡Ð±Ð°Ð»Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ',en:'Balanced',de:'Ausgewogen'},quote:{ru:'Â«Ð”Ð»Ñ Ñ‚ÐµÑ…, ÐºÑ‚Ð¾ Ñ†ÐµÐ½Ð¸Ñ‚ Ð¿Ñ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ð¾ÑÑ‚ÑŒÂ»',en:'"For those who value predictability"',de:'â€žFÃ¼r die, die Vorhersehbarkeit schÃ¤tzen"'}},
        aridia:{name:{ru:'ÐÑ€Ð¸Ð´Ð¸Ñ',en:'Aridia',de:'Aridia'},desc:{ru:'ÐŸÑƒÑÑ‚Ñ‹Ð½Ð½Ñ‹Ð¹ Ð¼Ð¸Ñ€. Ð’Ð¾Ð´Ð° Ð·Ð´ÐµÑÑŒ Ð´Ð¾Ñ€Ð¾Ð¶Ðµ Ð·Ð¾Ð»Ð¾Ñ‚Ð°. Ð—Ð°Ñ‚Ð¾ Ð¼Ð¸Ð½ÐµÑ€Ð°Ð»Ð¾Ð² â€” Ð·Ð°Ð²Ð°Ð»Ð¸ÑÑŒ, Ð¸ ÐºÐ¾Ð½ÐºÑƒÑ€ÐµÐ½Ñ‚Ñ‹ Ð½Ðµ Ñ€Ð²ÑƒÑ‚ÑÑ. Ð’Ñ‹Ð¶Ð¸Ð²Ð°Ð½Ð¸Ðµ ÑÐ»Ð¾Ð¶Ð½Ð¾Ðµ, Ð½Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾Ðµ.',en:'Desert world. Water costs more than gold. But minerals are abundant, and competitors aren\'t rushing here. Survival is tough but possible.',de:'WÃ¼stenwelt. Wasser teurer als Gold. Aber Mineralien reichlich vorhanden.'},traits:{ru:'ÐŸÑƒÑÑ‚Ñ‹Ð½Ñ â€¢ ÐœÐ¸Ð½ÐµÑ€Ð°Ð»Ñ‹',en:'Desert â€¢ Minerals',de:'WÃ¼ste â€¢ Mineralien'},quote:{ru:'Â«Ð—Ð´ÐµÑÑŒ Ð·Ð°ÐºÐ°Ð»ÑÑŽÑ‚ÑÑ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ñ‹ Ð¸ Ð¸ÑÐ¿Ð°Ñ€ÑÐµÑ‚ÑÑ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¼Â»',en:'"Where characters are forged and optimism evaporates"',de:'â€žHier werden Charaktere geschmiedet"'}},
        edemia:{name:{ru:'Ð­Ð´ÐµÐ¼Ð¸Ñ',en:'Edemia',de:'Edemia'},desc:{ru:'Ð Ð°Ð¹ Ð½Ð° Ð·ÐµÐ¼Ð»Ðµ! ÐŸÐ»Ð¾Ð´Ð¾Ñ€Ð¾Ð´Ð½Ñ‹Ðµ Ð·ÐµÐ¼Ð»Ð¸, Ð¿Ñ€Ð¸ÑÑ‚Ð½Ñ‹Ð¹ ÐºÐ»Ð¸Ð¼Ð°Ñ‚, Ð±Ð¾Ð³Ð°Ñ‚Ñ‹Ðµ Ñ€ÐµÑÑƒÑ€ÑÑ‹. Ð•Ð´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ð°Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð° â€” Ð²ÑÐµ Ð¾ÑÑ‚Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ‚Ð¾Ð¶Ðµ Ñ…Ð¾Ñ‚ÑÑ‚ ÐºÑƒÑÐ¾Ñ‡ÐµÐº ÑÑ‚Ð¾Ð³Ð¾ Ñ€Ð°Ñ.',en:'Paradise on earth! Fertile lands, pleasant climate, rich resources. Only problem â€” everyone else wants a piece of this paradise too.',de:'Paradies auf Erden! Fruchtbares Land, angenehmes Klima. Einziges Problem â€” alle anderen wollen auch ein StÃ¼ck.'},traits:{ru:'Ð‘Ð¾Ð³Ð°Ñ‚Ð°Ñ â€¢ Ð¡Ð¾ÑÐµÐ´Ð¸',en:'Rich â€¢ Neighbors',de:'Reich â€¢ Nachbarn'},quote:{ru:'Â«Ð’ Ñ€Ð°ÑŽ Ð²ÑÐµÐ³Ð´Ð° Ð½Ð°Ð¹Ð´Ñ‘Ñ‚ÑÑ Ð·Ð¼ÐµÐ¹Â»',en:'"There\'s always a serpent in paradise"',de:'â€žIm Paradies gibt es immer eine Schlange"'}},
        chaosprime:{name:{ru:'Ð¥Ð°Ð¾Ñ ÐŸÑ€Ð°Ð¹Ð¼',en:'Chaos Prime',de:'Chaos Prime'},desc:{ru:'Ð“ÐµÐ¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¼Ð¸Ñ€ Ñ Ð½ÐµÐ¿Ñ€ÐµÐ´ÑÐºÐ°Ð·ÑƒÐµÐ¼Ñ‹Ð¼ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¾Ð¼. Ð—ÐµÐ¼Ð»ÐµÑ‚Ñ€ÑÑÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð²Ñ‚Ð¾Ñ€Ð½Ð¸ÐºÐ°Ð¼, Ð¸Ð·Ð²ÐµÑ€Ð¶ÐµÐ½Ð¸Ñ Ð¿Ð¾ Ð¿ÑÑ‚Ð½Ð¸Ñ†Ð°Ð¼, Ð° Ð² Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ â€” ÑÑŽÑ€Ð¿Ñ€Ð¸Ð·!',en:'Geologically active world with unpredictable character. Earthquakes on Tuesdays, eruptions on Fridays, weekends â€” surprise!',de:'Geologisch aktive Welt. Erdbeben dienstags, AusbrÃ¼che freitags, am Wochenende â€” Ãœberraschung!'},traits:{ru:'Ð¥Ð°Ð¾Ñ â€¢ Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ñ',en:'Chaos â€¢ Events',de:'Chaos â€¢ Ereignisse'},quote:{ru:'Â«Ð¡Ñ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ â€” ÑÑ‚Ð¾ ÑÐºÑƒÑ‡Ð½Ð¾Â»',en:'"Stability is boring"',de:'â€žStabilitÃ¤t ist langweilig"'}},
        polaris:{name:{ru:'ÐŸÐ¾Ð»ÑÑ€Ð¸Ñ',en:'Polaris',de:'Polaris'},desc:{ru:'Ð¥Ð¾Ð»Ð¾Ð´Ð½Ñ‹Ð¹ Ð¼Ð¸Ñ€ Ð½Ð° ÐºÑ€Ð°ÑŽ Ð¾Ð±Ð¸Ñ‚Ð°ÐµÐ¼Ð¾Ð¹ Ð·Ð¾Ð½Ñ‹. Ð’ÐµÑ‡Ð½Ð°Ñ Ð¼ÐµÑ€Ð·Ð»Ð¾Ñ‚Ð° Ð·Ð°ÐºÐ°Ð»ÑÐµÑ‚ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€. Ð˜Ð»Ð¸ ÑƒÐ±Ð¸Ð²Ð°ÐµÑ‚. Ð¢Ñ€ÐµÑ‚ÑŒÐµÐ³Ð¾ Ð½Ðµ Ð´Ð°Ð½Ð¾. Ð—Ð°Ñ‚Ð¾ Ð²Ñ‹ÑÐ¾ÐºÐ°Ñ ÑÐ¿Ð»Ð¾Ñ‡Ñ‘Ð½Ð½Ð¾ÑÑ‚ÑŒ â€” Ð½ÐµÐºÑƒÐ´Ð° Ð±ÐµÐ¶Ð°Ñ‚ÑŒ.',en:'Cold world on the edge of habitable zone. Permafrost builds character. Or kills you. No third option. But high unity â€” nowhere to run.',de:'Kalte Welt am Rand der bewohnbaren Zone. Permafrost stÃ¤rkt den Charakter. Oder tÃ¶tet.'},traits:{ru:'Ð¥Ð¾Ð»Ð¾Ð´ â€¢ Ð•Ð´Ð¸Ð½ÑÑ‚Ð²Ð¾',en:'Cold â€¢ Unity',de:'Kalt â€¢ Einheit'},quote:{ru:'Â«Ð¢Ð¾, Ñ‡Ñ‚Ð¾ Ð½Ð°Ñ Ð½Ðµ ÑƒÐ±Ð¸Ð²Ð°ÐµÑ‚...Â»',en:'"What doesn\'t kill us..."',de:'â€žWas uns nicht tÃ¶tet..."'}},
      },
      sectors:{
        defence:{name:{ru:'ÐžÐ±Ð¾Ñ€Ð¾Ð½Ð°',en:'Defence',de:'Verteidigung'}},
        education:{name:{ru:'ÐžÐ±Ñ€Ð°Ð·Ð¾Ð²Ð°Ð½Ð¸Ðµ',en:'Education',de:'Bildung'}},
        health:{name:{ru:'Ð—Ð´Ñ€Ð°Ð²Ð¾Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ',en:'Healthcare',de:'Gesundheit'}},
        infra:{name:{ru:'Ð˜Ð½Ñ„Ñ€Ð°ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð°',en:'Infrastructure',de:'Infrastruktur'}},
        welfare:{name:{ru:'Ð¡Ð¾Ñ†Ð·Ð°Ñ‰Ð¸Ñ‚Ð°',en:'Welfare',de:'Soziales'}},
      },
      defeat:{
        happiness:{ru:'ÐÐ°Ñ€Ð¾Ð´ Ð²Ð¾ÑÑÑ‚Ð°Ð»! Ð’Ð°ÑˆÐµ Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¾ÐºÐ¾Ð½Ñ‡ÐµÐ½Ð¾. ÐÐ° Ð¿Ð»Ð¾Ñ‰Ð°Ð´ÑÑ… ÑÐºÐ°Ð½Ð´Ð¸Ñ€ÑƒÑŽÑ‚ Ð½Ðµ ÑÐ°Ð¼Ñ‹Ðµ Ð»ÐµÑÑ‚Ð½Ñ‹Ðµ ÑÐ»Ð¾Ð³Ð°Ð½Ñ‹ Ð¾ Ð²Ð°ÑˆÐµÐ¼ Ñ€ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ðµ.',en:'The people have risen! Your rule is over. The squares echo with unflattering slogans about your leadership.',de:'Das Volk hat sich erhoben! Ihre Herrschaft ist vorbei.'},
        stability:{ru:'Ð¥Ð°Ð¾Ñ Ð¿Ð¾Ð³Ð»Ð¾Ñ‚Ð¸Ð» Ð²Ð°ÑˆÑƒ Ñ†Ð¸Ð²Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ. ÐÐ¸ÐºÑ‚Ð¾ ÑƒÐ¶Ðµ Ð½Ðµ Ð¿Ð¾Ð¼Ð½Ð¸Ñ‚, ÐºÑ‚Ð¾ Ð·Ð° Ñ‡Ñ‚Ð¾ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚. Ð’ÐºÐ»ÑŽÑ‡Ð°Ñ Ð²Ð°Ñ.',en:'Chaos has consumed your civilization. Nobody remembers who\'s responsible for what. Including you.',de:'Chaos hat Ihre Zivilisation verschlungen.'},
        rebellion:{ru:'ÐœÑÑ‚ÐµÐ¶ ÑÐ²ÐµÑ€Ð³ Ð¼Ð¾Ð½Ð°Ñ€Ñ…Ð¸ÑŽ! ÐšÐ¾Ñ€Ð¾Ð½Ð° Ñ‚ÐµÐ¿ÐµÑ€ÑŒ ÑƒÐºÑ€Ð°ÑˆÐ°ÐµÑ‚ Ð¼ÑƒÐ·ÐµÐ¹, Ð° Ð²Ñ‹ â€” Ð¼ÐµÐ¼ÑƒÐ°Ñ€Ñ‹ Ð² Ð¸Ð·Ð³Ð½Ð°Ð½Ð¸Ð¸.',en:'A rebellion overthrew the monarchy! The crown now decorates a museum, and you â€” memoirs in exile.',de:'Ein Aufstand hat die Monarchie gestÃ¼rzt!'},
        coup:{ru:'Ð’Ð¾ÐµÐ½Ð½Ñ‹Ð¹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ñ€Ð¾Ñ‚! Ð“ÐµÐ½ÐµÑ€Ð°Ð»Ñ‹ Ñ€ÐµÑˆÐ¸Ð»Ð¸, Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð¸ ÑÐ¿Ñ€Ð°Ð²ÑÑ‚ÑÑ Ð»ÑƒÑ‡ÑˆÐµ. Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¿Ð¾ÐºÐ°Ð¶ÐµÑ‚.',en:'Military coup! The generals decided they could do better. History will tell.',de:'MilitÃ¤rputsch! Die GenerÃ¤le meinten, sie kÃ¶nnten es besser.'},
      },
      victoryMsg:{
        utopia:{ru:'Ð£Ñ‚Ð¾Ð¿Ð¸Ñ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚Ð°! Ð¤Ð¸Ð»Ð¾ÑÐ¾Ñ„Ñ‹ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ³Ð¾ Ð±ÑƒÐ´ÑƒÑ‚ Ð¸Ð·ÑƒÑ‡Ð°Ñ‚ÑŒ Ð²Ð°Ñˆ Ð¾Ð¿Ñ‹Ñ‚. Ð˜Ð»Ð¸ Ð¸ÑÐºÐ°Ñ‚ÑŒ Ð¿Ð¾Ð´Ð²Ð¾Ñ….',en:'Utopia achieved! Future philosophers will study your experience. Or look for the catch.',de:'Utopie erreicht! ZukÃ¼nftige Philosophen werden Ihre Erfahrung studieren.'},
        prosperity:{ru:'Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ñ‡ÑƒÐ´Ð¾! Ð’Ð°ÑˆÐ° ÐºÐ¾Ð»Ð¾Ð½Ð¸Ñ â€” Ð¾Ð±Ñ€Ð°Ð·ÐµÑ† Ð¿Ñ€Ð¾Ñ†Ð²ÐµÑ‚Ð°Ð½Ð¸Ñ. Ð¡Ð¾ÑÐµÐ´Ð¸ Ð·Ð°Ð²Ð¸Ð´ÑƒÑŽÑ‚.',en:'Economic miracle! Your colony is a model of prosperity. Neighbors are envious.',de:'Wirtschaftswunder! Ihre Kolonie ist ein Vorbild des Wohlstands.'},
        survival:{ru:'Ð’Ñ‹ Ð¿Ñ€Ð¾Ð²ÐµÐ»Ð¸ Ñ†Ð¸Ð²Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ñ‡ÐµÑ€ÐµÐ· Ð²ÑÐµ Ð¸ÑÐ¿Ñ‹Ñ‚Ð°Ð½Ð¸Ñ! ÐÐµ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾, Ð½Ð¾ Ð²Ñ‹ Ð²Ñ‹Ð¶Ð¸Ð»Ð¸. Ð ÑÑ‚Ð¾ ÑƒÐ¶Ðµ Ð´Ð¾ÑÑ‚Ð¸Ð¶ÐµÐ½Ð¸Ðµ.',en:'You guided your civilization through all challenges! Not perfect, but you survived. That\'s an achievement.',de:'Sie haben alle Herausforderungen gemeistert! Nicht perfekt, aber Sie haben Ã¼berlebt.'},
      },
    };

    // ===== GAME DATA =====
    const DIFFICULTIES={easy:{icon:'ðŸ˜Š',bonus:10,hydroBonus:30,severity:0.7},normal:{icon:'ðŸ˜',bonus:0,hydroBonus:0,severity:1.0},hard:{icon:'ðŸ˜°',bonus:-10,hydroBonus:-20,severity:1.3}};
    const SYSTEMS={parliamentary:{id:'parliamentary',icon:'ðŸ›ï¸',premium:false,traits:{needsApproval:true,threshold:40,stabilityBonus:0,happinessDecay:0,wealthBonus:0}},presidential:{id:'presidential',icon:'ðŸ¦…',premium:false,traits:{needsApproval:false,stabilityBonus:0,happinessDecay:0,wealthBonus:5}},monarchy:{id:'monarchy',icon:'ðŸ‘‘',premium:true,traits:{needsApproval:false,stabilityBonus:10,happinessDecay:0,wealthBonus:0,rebellionRisk:25}},dictatorship:{id:'dictatorship',icon:'âš”ï¸',premium:true,traits:{needsApproval:false,stabilityBonus:5,happinessDecay:5,wealthBonus:0,coupRisk:30}},technocracy:{id:'technocracy',icon:'ðŸ”¬',premium:true,traits:{needsApproval:false,stabilityBonus:5,happinessDecay:2,wealthBonus:15,startPenalty:10}},direct:{id:'direct',icon:'ðŸ—³ï¸',premium:true,traits:{needsApproval:false,stabilityBonus:-5,happinessDecay:-3,wealthBonus:0,referendumChance:0.25}}};
    const PLANETS={terranova:{id:'terranova',icon:'ðŸŒ',difficulty:2,stats:{happiness:60,wealth:50,stability:70},mods:{eventMult:1.0,extraEvents:0}},aridia:{id:'aridia',icon:'ðŸœï¸',difficulty:4,stats:{happiness:45,wealth:35,stability:60},mods:{eventMult:1.2,extraEvents:0,happinessDecay:2}},edemia:{id:'edemia',icon:'ðŸŒ´',difficulty:2,stats:{happiness:75,wealth:70,stability:55},mods:{eventMult:1.0,extraEvents:0,stabilityDecay:2}},chaosprime:{id:'chaosprime',icon:'ðŸŒ‹',difficulty:3,stats:{happiness:50,wealth:55,stability:40},mods:{eventMult:1.5,extraEvents:1,stabilityDecay:3}},polaris:{id:'polaris',icon:'â„ï¸',difficulty:4,stats:{happiness:40,wealth:45,stability:80},mods:{eventMult:0.8,extraEvents:0,happinessDecay:3}}};
    const SECTORS=[{id:'defence',icon:'ðŸ›¡ï¸'},{id:'education',icon:'ðŸ“š'},{id:'health',icon:'ðŸ¥'},{id:'infra',icon:'ðŸ—ï¸'},{id:'welfare',icon:'ðŸ¤'}];

    // ===== EVENTS =====
    const EVENTS={
      general:[
        {id:'pandemic',icon:'ðŸ¦ ',title:{ru:'Ð­Ð¿Ð¸Ð´ÐµÐ¼Ð¸Ñ',en:'Pandemic',de:'Pandemie'},desc:{ru:'ÐžÐ¿Ð°ÑÐ½Ñ‹Ð¹ Ð²Ð¸Ñ€ÑƒÑ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ. Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹ ÑÐ¿Ð¾Ñ€ÑÑ‚ Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð¶Ð´ÐµÐ½Ð¸Ð¸.',en:'A dangerous virus is spreading. Experts argue about its origin.',de:'Ein gefÃ¤hrlicher Virus breitet sich aus.'},choices:[{text:{ru:'Ð–Ñ‘ÑÑ‚ÐºÐ¸Ð¹ ÐºÐ°Ñ€Ð°Ð½Ñ‚Ð¸Ð½',en:'Strict quarantine',de:'Strenge QuarantÃ¤ne'},effects:{happiness:-20,wealth:-15,stability:10},cost:30},{text:{ru:'Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ðµ Ð¼ÐµÑ€Ñ‹',en:'Moderate measures',de:'Moderate MaÃŸnahmen'},effects:{happiness:-10,wealth:-8,stability:5},cost:15},{text:{ru:'ÐÐµ Ð²Ð¼ÐµÑˆÐ¸Ð²Ð°Ñ‚ÑŒÑÑ',en:'Do nothing',de:'Nichts tun'},effects:{happiness:5,stability:-20},cost:0}]},
        {id:'strike',icon:'âœŠ',title:{ru:'Ð—Ð°Ð±Ð°ÑÑ‚Ð¾Ð²ÐºÐ°',en:'Strike',de:'Streik'},desc:{ru:'Ð Ð°Ð±Ð¾Ñ‡Ð¸Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÑŽÑ‚ ÑƒÐ»ÑƒÑ‡ÑˆÐµÐ½Ð¸Ñ ÑƒÑÐ»Ð¾Ð²Ð¸Ð¹.',en:'Workers demand better conditions.',de:'Arbeiter fordern bessere Bedingungen.'},choices:[{text:{ru:'ÐŸÑ€Ð¸Ð½ÑÑ‚ÑŒ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ',en:'Accept demands',de:'Forderungen akzeptieren'},effects:{happiness:25,wealth:-20},cost:25},{text:{ru:'Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ðµ ÑƒÑÑ‚ÑƒÐ¿ÐºÐ¸',en:'Partial concessions',de:'TeilzugestÃ¤ndnisse'},effects:{happiness:10,wealth:-8,stability:5},cost:12},{text:{ru:'ÐŸÐ¾Ð´Ð°Ð²Ð¸Ñ‚ÑŒ',en:'Suppress',de:'UnterdrÃ¼cken'},effects:{happiness:-25,stability:-15,wealth:8},cost:15}]},
        {id:'discovery',icon:'ðŸ’Ž',title:{ru:'ÐœÐµÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ðµ!',en:'Discovery!',de:'Entdeckung!'},desc:{ru:'Ð“ÐµÐ¾Ð»Ð¾Ð³Ð¸ Ð¾Ð±Ð½Ð°Ñ€ÑƒÐ¶Ð¸Ð»Ð¸ Ð¾Ð³Ñ€Ð¾Ð¼Ð½Ñ‹Ðµ Ð·Ð°Ð»ÐµÐ¶Ð¸ Ñ€ÐµÑÑƒÑ€ÑÐ°.',en:'Geologists discovered huge deposits.',de:'Geologen haben riesige Vorkommen entdeckt.'},choices:[{text:{ru:'ÐÐ°Ñ†Ð¸Ð¾Ð½Ð°Ð»Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Nationalize',de:'Verstaatlichen'},effects:{happiness:12,wealth:18,stability:5},cost:25,hydro:50},{text:{ru:'ÐšÐ¾Ñ€Ð¿Ð¾Ñ€Ð°Ñ†Ð¸ÑÐ¼',en:'Corporations',de:'Konzerne'},effects:{wealth:30,happiness:-12},cost:5,hydro:30},{text:{ru:'Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ñ„Ð¾Ð½Ð´',en:'Create fund',de:'Fonds grÃ¼nden'},effects:{stability:20,wealth:10,happiness:8},cost:15,hydro:25}]},
        {id:'drought',icon:'ðŸœï¸',title:{ru:'Ð—Ð°ÑÑƒÑ…Ð°',en:'Drought',de:'DÃ¼rre'},desc:{ru:'Ð”Ð¾Ð¶Ð´Ñ Ð½Ðµ Ð±Ñ‹Ð»Ð¾ Ð¼ÐµÑÑÑ†. Ð¤ÐµÑ€Ð¼ÐµÑ€Ñ‹ ÑÐ¼Ð¾Ñ‚Ñ€ÑÑ‚ Ð½Ð° Ð½ÐµÐ±Ð¾.',en:'No rain for a month. Farmers stare at sky.',de:'Seit einem Monat kein Regen.'},choices:[{text:{ru:'ÐÐ¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð²Ð¾Ð´Ñ‹',en:'Water rationing',de:'Wasserrationierung'},effects:{happiness:-15,stability:10},cost:10},{text:{ru:'Ð¡Ñ€Ð¾Ñ‡Ð½Ð°Ñ Ð¸Ñ€Ñ€Ð¸Ð³Ð°Ñ†Ð¸Ñ',en:'Emergency irrigation',de:'NotbewÃ¤sserung'},effects:{wealth:-20,happiness:5,stability:5},cost:35},{text:{ru:'Ð˜Ð¼Ð¿Ð¾Ñ€Ñ‚ Ð²Ð¾Ð´Ñ‹',en:'Import water',de:'Wasser importieren'},effects:{wealth:-15,stability:-5},cost:25}]},
        {id:'techno_disaster',icon:'â˜¢ï¸',title:{ru:'Ð¢ÐµÑ…Ð½Ð¾Ð³ÐµÐ½Ð½Ð°Ñ ÐºÐ°Ñ‚Ð°ÑÑ‚Ñ€Ð¾Ñ„Ð°',en:'Industrial Disaster',de:'Industriekatastrophe'},desc:{ru:'Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº Ð½Ð° Ð·Ð°Ð²Ð¾Ð´Ðµ.',en:'Something went wrong at the factory.',de:'Etwas ist schiefgelaufen.'},choices:[{text:{ru:'Ð­Ð²Ð°ÐºÑƒÐ°Ñ†Ð¸Ñ',en:'Evacuation',de:'Evakuierung'},effects:{happiness:-10,wealth:-15,stability:15},cost:30},{text:{ru:'Ð¡ÐºÑ€Ñ‹Ñ‚ÑŒ',en:'Hide',de:'Verbergen'},effects:{happiness:5,stability:-20},cost:10},{text:{ru:'ÐšÐ¾Ð¼Ð¿ÐµÐ½ÑÐ°Ñ†Ð¸Ð¸',en:'Compensation',de:'EntschÃ¤digung'},effects:{happiness:10,wealth:-25},cost:40}]},
        {id:'infra_collapse',icon:'ðŸŒ‰',title:{ru:'ÐœÐ¾ÑÑ‚ Ñ€ÑƒÑ…Ð½ÑƒÐ»',en:'Bridge Collapsed',de:'BrÃ¼cke eingestÃ¼rzt'},desc:{ru:'ÐœÐ¾ÑÑ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ "ÐµÑ‰Ñ‘ ÑÑ‚Ð¾ Ð»ÐµÑ‚ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¸Ñ‚", Ð¿Ñ€Ð¾ÑÑ‚Ð¾ÑÐ» Ð´Ð¾ Ð²Ñ‚Ð¾Ñ€Ð½Ð¸ÐºÐ°.',en:'The bridge "meant to last 100 years" lasted until Tuesday.',de:'Die BrÃ¼cke hielt bis Dienstag.'},choices:[{text:{ru:'Ð¡Ñ€Ð¾Ñ‡Ð½Ñ‹Ð¹ Ñ€ÐµÐ¼Ð¾Ð½Ñ‚',en:'Emergency repair',de:'Notreparatur'},effects:{wealth:-20,stability:10},cost:35},{text:{ru:'ÐžÐ±ÑŠÐµÐ·Ð´',en:'Detour',de:'Umleitung'},effects:{happiness:-15,wealth:-5},cost:10},{text:{ru:'ÐÐ¾Ð²Ñ‹Ð¹ Ð¼Ð¾ÑÑ‚',en:'New bridge',de:'Neue BrÃ¼cke'},effects:{wealth:-30,happiness:15,stability:15},cost:50}]},
        {id:'journalism',icon:'ðŸ“°',title:{ru:'Ð–ÑƒÑ€Ð½Ð°Ð»Ð¸ÑÑ‚Ñ‹ Ñ€Ð°ÑÐºÐ¾Ð¿Ð°Ð»Ð¸...',en:'Journalists uncovered...',de:'Journalisten aufgedeckt...'},desc:{ru:'ÐÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ñ‹Ðµ Ð¶ÑƒÑ€Ð½Ð°Ð»Ð¸ÑÑ‚Ñ‹ Ñ€Ð°ÑÐºÐ¾Ð¿Ð°Ð»Ð¸ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾.',en:'Independent journalists uncovered something.',de:'UnabhÃ¤ngige Journalisten haben etwas aufgedeckt.'},choices:[{text:{ru:'ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ð¿Ñ€ÐµÑÑÑƒ',en:'Support press',de:'Presse unterstÃ¼tzen'},effects:{happiness:15,stability:-10},cost:5},{text:{ru:'Ð—Ð°ÑÐµÐºÑ€ÐµÑ‚Ð¸Ñ‚ÑŒ',en:'Classify',de:'Klassifizieren'},effects:{stability:10,happiness:-15},cost:20},{text:{ru:'Ð”Ð¸ÑÐºÑ€ÐµÐ´Ð¸Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Discredit',de:'Diskreditieren'},effects:{happiness:-20,stability:5},cost:15}]},
        {id:'rumors',icon:'ðŸ—£ï¸',title:{ru:'Ð¡Ð»ÑƒÑ…Ð¸',en:'Rumors',de:'GerÃ¼chte'},desc:{ru:'ÐšÑ‚Ð¾-Ñ‚Ð¾ Ð¿ÑƒÑÑ‚Ð¸Ð» ÑÐ»ÑƒÑ…. ÐŸÐ¾Ð»Ð¾Ð²Ð¸Ð½Ð° ÐºÐ¾Ð»Ð¾Ð½Ð¸Ð¸ Ð²ÐµÑ€Ð¸Ñ‚.',en:'Someone started a rumor. Half the colony believes it.',de:'Jemand hat ein GerÃ¼cht gestreut.'},choices:[{text:{ru:'ÐžÐ¿Ñ€Ð¾Ð²ÐµÑ€Ð¶ÐµÐ½Ð¸Ðµ',en:'Denial',de:'Dementierung'},effects:{stability:5,happiness:-5},cost:5},{text:{ru:'ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ',en:'Transparency',de:'Transparenz'},effects:{happiness:20,stability:-10,wealth:-5},cost:15},{text:{ru:'Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Ignore',de:'Ignorieren'},effects:{stability:-15},cost:0}]},
        {id:'diplomatic_scandal',icon:'ðŸ¤¦',title:{ru:'Ð”Ð¸Ð¿ÑÐºÐ°Ð½Ð´Ð°Ð»',en:'Diplomatic Scandal',de:'Diplomatischer Skandal'},desc:{ru:'Ð’Ð°Ñˆ Ð¿Ð¾ÑÐ¾Ð» ÑÐºÐ°Ð·Ð°Ð» Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ‚Ð¾.',en:'Your ambassador said something wrong.',de:'Ihr Botschafter hat etwas Falsches gesagt.'},choices:[{text:{ru:'Ð˜Ð·Ð²Ð¸Ð½Ð¸Ñ‚ÑŒÑÑ',en:'Apologize',de:'Entschuldigen'},effects:{happiness:-5,stability:10},cost:10},{text:{ru:'Ð¡Ñ‚Ð¾ÑÑ‚ÑŒ Ð½Ð° ÑÐ²Ð¾Ñ‘Ð¼',en:'Stand firm',de:'Standhaft bleiben'},effects:{happiness:10,stability:-15},cost:0},{text:{ru:'ÐžÑ‚Ð¾Ð·Ð²Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÐ»Ð°',en:'Recall ambassador',de:'Botschafter zurÃ¼ckrufen'},effects:{stability:5},cost:5}]},
        {id:'tech_breakthrough',icon:'ðŸ”¬',title:{ru:'ÐÐ°ÑƒÑ‡Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ€Ñ‹Ð²',en:'Scientific Breakthrough',de:'Durchbruch'},desc:{ru:'Ð£Ñ‡Ñ‘Ð½Ñ‹Ðµ ÑÐ¾Ð²ÐµÑ€ÑˆÐ¸Ð»Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ.',en:'Scientists made a discovery.',de:'Wissenschaftler haben eine Entdeckung gemacht.'},choices:[{text:{ru:'Ð¤Ð¸Ð½Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ',en:'Funding',de:'Finanzierung'},effects:{wealth:20,happiness:12,stability:5},cost:30},{text:{ru:'ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ',en:'Share',de:'Teilen'},effects:{happiness:15,stability:8},cost:10},{text:{ru:'Ð—Ð°ÑÐµÐºÑ€ÐµÑ‚Ð¸Ñ‚ÑŒ',en:'Classify',de:'Geheim halten'},effects:{wealth:12,stability:-8},cost:8}]},
        {id:'festival',icon:'ðŸŽ‰',title:{ru:'ÐŸÑ€Ð°Ð·Ð´Ð½Ð¸Ðº',en:'Festival',de:'Festival'},desc:{ru:'Ð“Ð¾Ð´Ð¾Ð²Ñ‰Ð¸Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ñ! Ð“Ñ€Ð°Ð¶Ð´Ð°Ð½Ðµ Ð¶Ð´ÑƒÑ‚ Ð¿Ñ€Ð°Ð·Ð´Ð½Ð¸ÐºÐ°.',en:'Anniversary! Citizens expect celebration.',de:'Jahrestag! BÃ¼rger erwarten Feier.'},choices:[{text:{ru:'Ð“Ñ€Ð°Ð½Ð´Ð¸Ð¾Ð·Ð½Ñ‹Ð¹',en:'Grand',de:'GroÃŸ'},effects:{happiness:25,wealth:-15},cost:25},{text:{ru:'Ð¡ÐºÑ€Ð¾Ð¼Ð½Ñ‹Ð¹',en:'Modest',de:'Bescheiden'},effects:{happiness:10,wealth:-5},cost:10},{text:{ru:'Ð Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ð´ÐµÐ½ÑŒ',en:'Working day',de:'Arbeitstag'},effects:{happiness:-15,wealth:5},cost:0}]},
      ],
      parliamentary:[
        {id:'coalition',icon:'ðŸ’”',title:{ru:'Ð Ð°Ð·Ð²Ð°Ð» ÐºÐ¾Ð°Ð»Ð¸Ñ†Ð¸Ð¸',en:'Coalition Collapse',de:'Koalitionszerfall'},desc:{ru:'ÐŸÐ°Ñ€Ñ‚Ð¸Ð¸ Ð½Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒÑÑ.',en:'Parties can\'t agree.',de:'Parteien kÃ¶nnen sich nicht einigen.'},choices:[{text:{ru:'ÐŸÐµÑ€ÐµÐ³Ð¾Ð²Ð¾Ñ€Ñ‹',en:'Negotiate',de:'Verhandeln'},effects:{stability:-10,happiness:-5},cost:15},{text:{ru:'ÐÐ¾Ð²Ð°Ñ ÐºÐ¾Ð°Ð»Ð¸Ñ†Ð¸Ñ',en:'New coalition',de:'Neue Koalition'},effects:{stability:5,happiness:10},cost:20},{text:{ru:'Ð’Ñ‹Ð±Ð¾Ñ€Ñ‹',en:'Elections',de:'Wahlen'},effects:{stability:-20,happiness:15},cost:30}]},
        {id:'lobbyists',icon:'ðŸ’¼',title:{ru:'Ð›Ð¾Ð±Ð±Ð¸ÑÑ‚Ñ‹',en:'Lobbyists',de:'Lobbyisten'},desc:{ru:'ÐÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð·Ð°ÐºÐ¾Ð½Ñ‹ Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð²Ñ‹Ð³Ð¾Ð´Ð½Ñ‹ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸ÑÐ¼.',en:'Some laws suspiciously benefit companies.',de:'Einige Gesetze sind verdÃ¤chtig vorteilhaft.'},choices:[{text:{ru:'Ð ÐµÑ„Ð¾Ñ€Ð¼Ð°',en:'Reform',de:'Reform'},effects:{happiness:20,wealth:-10,stability:5},cost:20},{text:{ru:'ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ',en:'Show trial',de:'Schauprozess'},effects:{happiness:10,stability:-5},cost:10},{text:{ru:'Ð—Ð°Ð¼ÑÑ‚ÑŒ',en:'Cover up',de:'Vertuschen'},effects:{stability:-15,happiness:-10},cost:25}]},
        {id:'deadlock',icon:'ðŸ”’',title:{ru:'Ð¢ÑƒÐ¿Ð¸Ðº',en:'Deadlock',de:'Sackgasse'},desc:{ru:'Ð”ÐµÐ¿ÑƒÑ‚Ð°Ñ‚Ñ‹ Ð½Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒÑÑ ÑƒÐ¶Ðµ Ð½ÐµÐ´ÐµÐ»ÑŽ.',en:'MPs can\'t agree for a week.',de:'Abgeordnete kÃ¶nnen sich nicht einigen.'},choices:[{text:{ru:'Ð’Ð¼ÐµÑˆÐ°Ñ‚ÑŒÑÑ',en:'Intervene',de:'Eingreifen'},effects:{stability:10,happiness:-10},cost:5},{text:{ru:'Ð–Ð´Ð°Ñ‚ÑŒ',en:'Wait',de:'Warten'},effects:{stability:-15,happiness:5},cost:0},{text:{ru:'Ð ÐµÑ„ÐµÑ€ÐµÐ½Ð´ÑƒÐ¼',en:'Referendum',de:'Referendum'},effects:{happiness:15,wealth:-10},cost:20}]}
      ],
      presidential:[
        {id:'impeachment',icon:'âš–ï¸',title:{ru:'Ð˜Ð¼Ð¿Ð¸Ñ‡Ð¼ÐµÐ½Ñ‚',en:'Impeachment',de:'Amtsenthebung'},desc:{ru:'ÐžÐ¿Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ ÑÐ¾Ð±Ñ€Ð°Ð»Ð° Ð³Ð¾Ð»Ð¾ÑÐ° Ð´Ð»Ñ Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ.',en:'Opposition gathered votes.',de:'Opposition hat Stimmen gesammelt.'},choices:[{text:{ru:'Ð”Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒÑÑ',en:'Negotiate',de:'Verhandeln'},effects:{stability:10,happiness:-5,wealth:-10},cost:20},{text:{ru:'ÐœÐ¾Ð±Ð¸Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Mobilize',de:'Mobilisieren'},effects:{happiness:15,stability:-10},cost:15},{text:{ru:'Ð—Ð°Ñ‰Ð¸Ñ‚Ð°',en:'Defense',de:'Verteidigung'},effects:{stability:5,wealth:-15},cost:25}]},
        {id:'admin_scandal',icon:'ðŸ—žï¸',title:{ru:'Ð¡ÐºÐ°Ð½Ð´Ð°Ð»',en:'Scandal',de:'Skandal'},desc:{ru:'Ð’Ð°Ñˆ Ð¿Ð¾Ð¼Ð¾Ñ‰Ð½Ð¸Ðº ÑÐºÐ°Ð·Ð°Ð» Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ Ð½Ðµ Ñ‚Ð¾.',en:'Your aide said something wrong.',de:'Ihr Berater hat etwas Falsches gesagt.'},choices:[{text:{ru:'Ð£Ð²Ð¾Ð»Ð¸Ñ‚ÑŒ',en:'Fire',de:'Entlassen'},effects:{stability:10,happiness:5},cost:5},{text:{ru:'Ð—Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚ÑŒ',en:'Defend',de:'Verteidigen'},effects:{happiness:-10,stability:-5},cost:0},{text:{ru:'ÐžÑ‚Ð²Ð»ÐµÑ‡ÑŒ',en:'Distract',de:'Ablenken'},effects:{happiness:-5,wealth:-10},cost:15}]},
        {id:'constitutional',icon:'ðŸ“œ',title:{ru:'ÐšÐ¾Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ ÐºÑ€Ð¸Ð·Ð¸Ñ',en:'Constitutional Crisis',de:'Verfassungskrise'},desc:{ru:'Ð¡ÑƒÐ´ Ð¸ ÐŸÐ°Ñ€Ð»Ð°Ð¼ÐµÐ½Ñ‚ Ð½Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐ½Ñ‹ Ñ Ð²Ð°Ð¼Ð¸.',en:'Court and Parliament disagree.',de:'Gericht und Parlament anderer Meinung.'},choices:[{text:{ru:'Ð£ÑÑ‚ÑƒÐ¿Ð¸Ñ‚ÑŒ',en:'Yield',de:'Nachgeben'},effects:{stability:15,happiness:-10},cost:0},{text:{ru:'Ð ÐµÑ„Ð¾Ñ€Ð¼Ð°',en:'Reform',de:'Reform'},effects:{stability:-15,happiness:10,wealth:-20},cost:30},{text:{ru:'Ðš Ð½Ð°Ñ€Ð¾Ð´Ñƒ',en:'To people',de:'Zum Volk'},effects:{happiness:20,stability:-10},cost:15}]}
      ],
      monarchy:[
        {id:'heir_scandal',icon:'ðŸ‘‘',title:{ru:'Ð¡ÐºÐ°Ð½Ð´Ð°Ð» Ð½Ð°ÑÐ»ÐµÐ´Ð½Ð¸ÐºÐ°',en:'Heir Scandal',de:'Erben-Skandal'},desc:{ru:'ÐÐ°ÑÐ»ÐµÐ´Ð½Ð¸Ðº Ð¿Ð¾ÑÐµÑ‚Ð¸Ð» ÑÐ¾Ð¼Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð·Ð°Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ.',en:'Heir visited questionable place.',de:'Erbe besuchte fragwÃ¼rdigen Ort.'},choices:[{text:{ru:'Ð˜Ð·Ð²Ð¸Ð½ÐµÐ½Ð¸Ðµ',en:'Apology',de:'Entschuldigung'},effects:{happiness:5,stability:10},cost:5},{text:{ru:'Ð—Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚ÑŒ',en:'Defend',de:'Verteidigen'},effects:{happiness:-10,stability:-5},cost:0},{text:{ru:'Ð’ "Ð¾Ñ‚Ð¿ÑƒÑÐº"',en:'"Vacation"',de:'"Urlaub"'},effects:{stability:15,happiness:-5},cost:20}]},
        {id:'succession',icon:'âš”ï¸',title:{ru:'ÐÐ°ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ',en:'Succession',de:'Erbfolge'},desc:{ru:'Ð¢Ñ€Ð¸ Ð¿Ñ€ÐµÑ‚ÐµÐ½Ð´ÐµÐ½Ñ‚Ð° Ð½Ð° Ñ‚Ñ€Ð¾Ð½.',en:'Three claimants to the throne.',de:'Drei ThronprÃ¤tendenten.'},choices:[{text:{ru:'Ð¡Ð¾Ð²ÐµÑ‚',en:'Council',de:'Rat'},effects:{stability:15,happiness:-5},cost:10},{text:{ru:'Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ',en:'Vote',de:'Abstimmung'},effects:{happiness:20,stability:-15},cost:25},{text:{ru:'ÐÐ°Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÑŒ',en:'Appoint',de:'Ernennen'},effects:{stability:-10,happiness:-10},cost:0}]},
        {id:'republicans',icon:'ðŸ—½',title:{ru:'Ð ÐµÑÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ð½Ñ†Ñ‹',en:'Republicans',de:'Republikaner'},desc:{ru:'Ð§Ð°ÑÑ‚ÑŒ Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð² Ð¼Ð¾Ð½Ð°Ñ€Ñ…Ð¸Ð¸.',en:'Some citizens against monarchy.',de:'Einige BÃ¼rger gegen Monarchie.'},choices:[{text:{ru:'Ð”Ð¸Ð°Ð»Ð¾Ð³',en:'Dialogue',de:'Dialog'},effects:{happiness:10,stability:5},cost:10},{text:{ru:'Ð¢Ñ€Ð°Ð´Ð¸Ñ†Ð¸Ð¸',en:'Traditions',de:'Traditionen'},effects:{happiness:-5,stability:15},cost:15},{text:{ru:'Ð—Ð°Ð¿Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒ',en:'Ban',de:'Verbieten'},effects:{stability:-20,happiness:-15},cost:20}]}
      ],
      dictatorship:[
        {id:'generals',icon:'ðŸŽ–ï¸',title:{ru:'Ð—Ð°Ð³Ð¾Ð²Ð¾Ñ€ Ð³ÐµÐ½ÐµÑ€Ð°Ð»Ð¾Ð²',en:'Generals\' Conspiracy',de:'GeneralsverschwÃ¶rung'},desc:{ru:'Ð“ÐµÐ½ÐµÑ€Ð°Ð»Ñ‹ Ñ‡Ð°ÑÑ‚Ð¾ Ð¾Ð±ÐµÐ´Ð°ÑŽÑ‚ Ð²Ð¼ÐµÑÑ‚Ðµ.',en:'Generals lunch together often.',de:'GenerÃ¤le essen oft zusammen.'},choices:[{text:{ru:'ÐÑ€ÐµÑÑ‚',en:'Arrest',de:'Verhaftung'},effects:{stability:20,happiness:-15},cost:20},{text:{ru:'ÐŸÐµÑ€ÐµÑ‚Ð°ÑÐ¾Ð²Ð°Ñ‚ÑŒ',en:'Shuffle',de:'Umstrukturieren'},effects:{stability:10,happiness:-5},cost:10},{text:{ru:'Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Ignore',de:'Ignorieren'},effects:{stability:-25},cost:0}]},
        {id:'cult',icon:'ðŸ—¿',title:{ru:'ÐšÑƒÐ»ÑŒÑ‚ Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚Ð¸',en:'Personality Cult',de:'Personenkult'},desc:{ru:'Ð¡Ñ‚Ð°Ñ‚ÑƒÐ¹ Ð±Ð¾Ð»ÑŒÑˆÐµ, Ñ‡ÐµÐ¼ Ð¶Ð¸Ñ‚ÐµÐ»ÐµÐ¹.',en:'More statues than residents.',de:'Mehr Statuen als Einwohner.'},choices:[{text:{ru:'Ð•Ñ‰Ñ‘ Ð±Ð¾Ð»ÑŒÑˆÐµ!',en:'Even more!',de:'Noch mehr!'},effects:{happiness:-20,stability:10,wealth:-15},cost:25},{text:{ru:'Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ',en:'Moderation',de:'MÃ¤ÃŸigung'},effects:{happiness:10,stability:-5},cost:0},{text:{ru:'ÐœÑƒÐ·ÐµÐ¸',en:'Museums',de:'Museen'},effects:{happiness:15,wealth:-5},cost:10}]},
        {id:'resistance',icon:'ðŸ“¢',title:{ru:'Ð¡Ð¾Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð»ÐµÐ½Ð¸Ðµ',en:'Resistance',de:'Widerstand'},desc:{ru:'Ð›Ð¸ÑÑ‚Ð¾Ð²ÐºÐ¸ Ð¿Ð¾ÑÐ²Ð»ÑÑŽÑ‚ÑÑ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ, Ñ‡ÐµÐ¼ Ð¸Ñ… ÑÐ¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚.',en:'Leaflets appear faster than collected.',de:'FlugblÃ¤tter erscheinen schneller.'},choices:[{text:{ru:'Ð ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸',en:'Repression',de:'Repression'},effects:{stability:15,happiness:-25},cost:25},{text:{ru:'Ð˜Ð½Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ',en:'Infiltration',de:'Infiltration'},effects:{stability:10,happiness:-10,wealth:-10},cost:20},{text:{ru:'Ð ÐµÑ„Ð¾Ñ€Ð¼Ñ‹',en:'Reforms',de:'Reformen'},effects:{happiness:20,stability:-15},cost:15}]}
      ],
      technocracy:[
        {id:'algorithm',icon:'ðŸ¤–',title:{ru:'Ð‘ÑƒÐ½Ñ‚ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð² Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð²',en:'Algorithm Revolt',de:'Algorithmus-Revolte'},desc:{ru:'Ð“Ñ€Ð°Ð¶Ð´Ð°Ð½Ðµ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð² "Ð¼Ð°ÑˆÐ¸Ð½".',en:'Citizens against "machines".',de:'BÃ¼rger gegen "Maschinen".'},choices:[{text:{ru:'Ð“ÑƒÐ¼Ð°Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Humanize',de:'Humanisieren'},effects:{happiness:20,wealth:-10},cost:15},{text:{ru:'ÐžÐ±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ',en:'Explain',de:'ErklÃ¤ren'},effects:{happiness:5,stability:5},cost:10},{text:{ru:'Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ',en:'Ignore',de:'Ignorieren'},effects:{happiness:-15,stability:-10},cost:0}]},
        {id:'data_leak',icon:'ðŸ’¾',title:{ru:'Ð£Ñ‚ÐµÑ‡ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…',en:'Data Leak',de:'Datenleck'},desc:{ru:'ÐšÑ‚Ð¾-Ñ‚Ð¾ ÑÐ»Ð¸Ð» Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ….',en:'Someone leaked the database.',de:'Jemand hat Datenbank geleakt.'},choices:[{text:{ru:'ÐÑƒÐ´Ð¸Ñ‚',en:'Audit',de:'Audit'},effects:{stability:15,wealth:-20},cost:30},{text:{ru:'ÐÐ°Ð¹Ñ‚Ð¸ Ð²Ð¸Ð½Ð¾Ð²Ð½Ð¾Ð³Ð¾',en:'Find culprit',de:'Schuldigen finden'},effects:{stability:5,happiness:-5},cost:15},{text:{ru:'ÐÐ¼Ð½Ð¸ÑÑ‚Ð¸Ñ',en:'Amnesty',de:'Amnestie'},effects:{happiness:15,stability:-10},cost:5}]},
        {id:'experts',icon:'ðŸ”¬',title:{ru:'Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹ ÑÐ¿Ð¾Ñ€ÑÑ‚',en:'Experts Disagree',de:'Experten uneinig'},desc:{ru:'ÐšÐ»Ð¸Ð¼Ð°Ñ‚ vs ÑÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ°. 500 ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñ‹.',en:'Climate vs economy. 500 pages each side.',de:'Klima vs Wirtschaft. 500 Seiten pro Seite.'},choices:[{text:{ru:'ÐšÐ»Ð¸Ð¼Ð°Ñ‚',en:'Climate',de:'Klima'},effects:{happiness:10,wealth:-15,stability:5},cost:20},{text:{ru:'Ð­ÐºÐ¾Ð½Ð¾Ð¼Ð¸ÐºÐ°',en:'Economy',de:'Wirtschaft'},effects:{wealth:15,happiness:-10,stability:5},cost:10},{text:{ru:'ÐšÐ¾Ð¼Ð¸ÑÑÐ¸Ñ',en:'Commission',de:'Kommission'},effects:{stability:-10,wealth:-10},cost:15}]}
      ],
      direct:[
        {id:'fatigue',icon:'ðŸ˜´',title:{ru:'Ð£ÑÑ‚Ð°Ð»Ð¾ÑÑ‚ÑŒ',en:'Fatigue',de:'MÃ¼digkeit'},desc:{ru:'Ð¯Ð²ÐºÐ° 12%. Ð¢ÐµÐ¼Ð°: Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑ„ÐµÑ€ÐµÐ½Ð´ÑƒÐ¼Ñ‹.',en:'Turnout 12%. Topic: mandatory referendums.',de:'Wahlbeteiligung 12%.'},choices:[{text:{ru:'ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ',en:'Mandatory',de:'Obligatorisch'},effects:{happiness:-15,stability:15},cost:20},{text:{ru:'Ð£Ð¿Ñ€Ð¾ÑÑ‚Ð¸Ñ‚ÑŒ',en:'Simplify',de:'Vereinfachen'},effects:{happiness:10,wealth:-10},cost:15},{text:{ru:'ÐœÐµÐ½ÑŒÑˆÐµ',en:'Fewer',de:'Weniger'},effects:{happiness:5,stability:-10},cost:0}]},
        {id:'populist',icon:'ðŸŽª',title:{ru:'ÐŸÐ¾Ð¿ÑƒÐ»Ð¸Ð·Ð¼',en:'Populism',de:'Populismus'},desc:{ru:'Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ: Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ ÐºÐ¾ÑÐ¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÐºÐ¾Ñ€Ð°Ð±Ð»ÑŒ ÐºÐ°Ð¶Ð´Ð¾Ð¼Ñƒ.',en:'Vote: free spaceship for everyone.',de:'Abstimmung: kostenloses Raumschiff fÃ¼r jeden.'},choices:[{text:{ru:'ÐžÐ±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ',en:'Explain',de:'ErklÃ¤ren'},effects:{happiness:-10,stability:10},cost:10},{text:{ru:'ÐšÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑ',en:'Compromise',de:'Kompromiss'},effects:{happiness:15,wealth:-20},cost:25},{text:{ru:'ÐŸÑƒÑÑ‚ÑŒ Ð³Ð¾Ð»Ð¾ÑÑƒÑŽÑ‚',en:'Let vote',de:'Abstimmen lassen'},effects:{stability:-15,happiness:5},cost:5}]},
        {id:'tie',icon:'âš–ï¸',title:{ru:'50/50',en:'50/50',de:'50/50'},desc:{ru:'Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ 50.0% Ð½Ð° 50.0%. ÐœÐ¾Ð½ÐµÑ‚ÐºÑƒ?',en:'Vote 50.0% to 50.0%. Flip coin?',de:'50,0% zu 50,0%. MÃ¼nze werfen?'},choices:[{text:{ru:'ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸Ñ‚ÑŒ',en:'Revote',de:'Erneut'},effects:{stability:-5,wealth:-10},cost:15},{text:{ru:'ÐšÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚Ð¾Ñ€ Ñ€ÐµÑˆÐ¸Ñ‚',en:'Coordinator decides',de:'Koordinator entscheidet'},effects:{happiness:-10,stability:10},cost:0},{text:{ru:'ÐšÐ¾Ð¼Ð¿Ñ€Ð¾Ð¼Ð¸ÑÑ',en:'Compromise',de:'Kompromiss'},effects:{happiness:5,stability:5},cost:10}]}
      ]
    };

    // ===== DB HELPERS =====
    const db={
      async saveGameResult(userId,data){return await supabase.from('game_results').insert({user_id:userId,planet_name:data.planet,political_system:data.system,difficulty:data.difficulty,max_turns:data.maxTurns,turns_played:data.turn,final_happiness:Math.round(data.stats.happiness),final_wealth:Math.round(data.stats.wealth),final_stability:Math.round(data.stats.stability),final_hydrobite:data.hydrobite,is_victory:data.isVictory,victory_type:data.victoryType,score:data.score,duration_seconds:data.duration});},
      async getLeaderboard(limit=30){return await supabase.from('profiles').select('id,username,display_name,total_games,total_wins,highest_score').gt('total_games',0).order('highest_score',{ascending:false}).limit(limit);},
      async getUserAchievements(userId){return await supabase.from('user_achievements').select('*,achievements(*)').eq('user_id',userId);},
      async unlockAchievement(userId,achievementId){return await supabase.from('user_achievements').upsert({user_id:userId,achievement_id:achievementId},{onConflict:'user_id,achievement_id'});},
    };

    // ===== AUTH CONTEXT =====
    const AuthContext=createContext(null);
    const useAuth=()=>useContext(AuthContext);

    function AuthProvider({children}){
      const[user,setUser]=useState(null);
      const[profile,setProfile]=useState(null);
      const[loading,setLoading]=useState(true);
      const[initialized,setInitialized]=useState(false);

      const loadProfile=useCallback(async(userId)=>{
        try{const{data}=await supabase.from('profiles').select('*').eq('id',userId).single();if(data)setProfile(data);}catch(e){console.warn('Profile load error:',e);}
      },[]);

      useEffect(()=>{
        let mounted=true;
        const timeout=setTimeout(()=>{if(mounted&&!initialized){console.warn('Auth timeout, proceeding without auth');setLoading(false);setInitialized(true);}},3000);
        
        supabase.auth.getSession().then(({data:{session}})=>{
          if(!mounted)return;
          const u=session?.user??null;setUser(u);if(u)loadProfile(u.id);setLoading(false);setInitialized(true);
        }).catch(e=>{
          console.warn('Auth error:',e);
          if(mounted){setLoading(false);setInitialized(true);}
        });
        
        const{data:{subscription}}=supabase.auth.onAuthStateChange(async(event,session)=>{
          if(!mounted)return;
          const u=session?.user??null;setUser(u);if(u)await loadProfile(u.id);else setProfile(null);setLoading(false);
        });
        
        return()=>{mounted=false;clearTimeout(timeout);subscription.unsubscribe();};
      },[loadProfile]);

      const signUp=async(email,password,username)=>{const{data,error}=await supabase.auth.signUp({email,password,options:{data:{username,full_name:username}}});if(error)throw error;return data;};
      const signIn=async(email,password)=>{const{data,error}=await supabase.auth.signInWithPassword({email,password});if(error)throw error;return data;};
      const signOut=async()=>{await supabase.auth.signOut();setUser(null);setProfile(null);};

      return(<AuthContext.Provider value={{user,profile,loading,initialized,signUp,signIn,signOut}}>{children}</AuthContext.Provider>);
    }

    // ===== LANG CONTEXT =====
    const LangContext=createContext({lang:'ru',setLang:()=>{},t:(k)=>k});
    const useLang=()=>useContext(LangContext);

    function LangProvider({children}){
      const[lang,setLang]=useState(()=>localStorage.getItem('lang')||'');
      const t=useCallback((path)=>{
        const keys=path.split('.');let val=T;
        for(const k of keys){val=val?.[k];if(!val)return path;}
        return val[lang]||val.ru||path;
      },[lang]);
      const changeLang=(l)=>{setLang(l);localStorage.setItem('lang',l);};
      return(<LangContext.Provider value={{lang,setLang:changeLang,t}}>{children}</LangContext.Provider>);
    }

    // ===== UI COMPONENTS =====
    const Spinner=({size='md'})=>{const s={sm:'w-5 h-5',md:'w-8 h-8',lg:'w-12 h-12'};return(<div className="flex justify-center py-4"><div className={`${s[size]} border-4 border-amber-500 border-t-transparent rounded-full animate-spin`}/></div>);};
    const Toast=({message,type='info',onClose})=>{useEffect(()=>{const t=setTimeout(onClose,3000);return()=>clearTimeout(t);},[onClose]);const colors={success:'bg-green-900/90 border-green-500 text-green-200',error:'bg-red-900/90 border-red-500 text-red-200',warning:'bg-yellow-900/90 border-yellow-500 text-yellow-200',info:'bg-blue-900/90 border-blue-500 text-blue-200'};return(<div className={`toast ${colors[type]} border px-4 py-3 rounded-lg shadow-lg animate-slideUp`}>{message}</div>);};
    const Modal=({children,onClose,title})=>(<div className="modal-overlay animate-fadeIn" onClick={onClose}><div className="bg-slate-800 rounded-xl max-w-md w-full max-h-[85vh] overflow-hidden border border-amber-500/30 animate-slideUp" onClick={e=>e.stopPropagation()}>{title&&(<div className="flex justify-between items-center p-4 border-b border-slate-700"><h2 className="text-lg font-display font-bold text-amber-400">{title}</h2><button onClick={onClose} className="text-gray-400 hover:text-white text-2xl">&times;</button></div>)}<div className="p-4 overflow-y-auto max-h-[calc(85vh-60px)]">{children}</div></div></div>);
    const StatBar=({label,value,icon,color})=>(<div className="mb-2"><div className="flex justify-between text-xs mb-1"><span className="text-amber-100/80">{icon} {label}</span><span className={`font-bold ${value<30?'text-red-400':value>70?'text-green-400':'text-amber-300'}`}>{Math.round(value)}%</span></div><div className="h-2 bg-slate-900 rounded overflow-hidden border border-amber-900/30"><div className={`h-full ${color} transition-all duration-500`} style={{width:`${Math.min(100,Math.max(0,value))}%`}}/></div></div>);
    const StarBackground=()=>{const stars=useMemo(()=>Array.from({length:50},(_,i)=>({id:i,left:Math.random()*100,top:Math.random()*100,size:Math.random()*2+1,delay:Math.random()*3})),[]);return(<div className="star-bg">{stars.map(s=>(<div key={s.id} className="star animate-pulse" style={{left:`${s.left}%`,top:`${s.top}%`,width:s.size,height:s.size,animationDelay:`${s.delay}s`}}/>))}</div>);};

    // ===== AUTH MODAL =====
    const AuthModal=({onClose,initialMode='login'})=>{
      const{signUp,signIn}=useAuth();const{t}=useLang();
      const[mode,setMode]=useState(initialMode);const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[username,setUsername]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');
      const handleSubmit=async(e)=>{e.preventDefault();setLoading(true);setError('');setSuccess('');try{if(mode==='register'){await signUp(email,password,username);setSuccess('Check email!');}else{await signIn(email,password);onClose();}}catch(err){setError(err.message);}setLoading(false);};
      return(<Modal onClose={onClose} title={mode==='login'?t('ui.login'):t('ui.register')}><form onSubmit={handleSubmit} className="space-y-4">{mode==='register'&&(<input type="text" placeholder={t('ui.username')} value={username} onChange={e=>setUsername(e.target.value)} className="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white" required/>)}<input type="email" placeholder={t('ui.email')} value={email} onChange={e=>setEmail(e.target.value)} className="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white" required/><input type="password" placeholder={t('ui.password')} value={password} onChange={e=>setPassword(e.target.value)} className="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white" required minLength={6}/>{error&&<p className="text-red-400 text-sm">{error}</p>}{success&&<p className="text-green-400 text-sm">{success}</p>}<button type="submit" disabled={loading} className="w-full py-3 bg-gradient-to-r from-amber-500 to-yellow-500 text-slate-900 rounded-lg font-bold disabled:opacity-50">{loading?'...':mode==='login'?t('ui.login'):t('ui.register')}</button><p className="text-center text-sm text-gray-400">{mode==='login'?<span>No account? <button type="button" onClick={()=>setMode('register')} className="text-amber-400">Register</button></span>:<span>Have account? <button type="button" onClick={()=>setMode('login')} className="text-amber-400">Login</button></span>}</p></form></Modal>);
    };

    // ===== PROFILE MODAL =====
    const ProfileModal=({onClose})=>{
      const{profile,signOut}=useAuth();const{t}=useLang();
      return(<Modal onClose={onClose} title={t('ui.profile')||'Profile'}><div className="text-center mb-4"><div className="w-16 h-16 bg-amber-600 rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-2">{profile?.display_name?.[0]?.toUpperCase()||'ðŸ‘¤'}</div><h3 className="font-bold text-lg text-amber-300">{profile?.display_name||'Player'}</h3>{profile?.is_premium&&<span className="text-amber-400 text-sm">â­ Premium</span>}</div><div className="space-y-2 text-sm mb-4"><div className="flex justify-between"><span className="text-gray-400">Games:</span><span className="text-amber-300">{profile?.total_games||0}</span></div><div className="flex justify-between"><span className="text-gray-400">Wins:</span><span className="text-amber-300">{profile?.total_wins||0}</span></div><div className="flex justify-between"><span className="text-gray-400">Best:</span><span className="text-amber-300">{profile?.highest_score||0}</span></div></div><div className="flex gap-2"><button onClick={onClose} className="flex-1 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg">{t('ui.close')}</button><button onClick={()=>{signOut();onClose();}} className="flex-1 py-2 bg-red-900/50 hover:bg-red-800/50 text-red-300 rounded-lg">{t('ui.signOut')}</button></div></Modal>);
    };

    // ===== LEADERBOARD MODAL =====
    const LeaderboardModal=({onClose})=>{
      const[leaders,setLeaders]=useState([]);const[loading,setLoading]=useState(true);
      useEffect(()=>{db.getLeaderboard(20).then(({data})=>{setLeaders(data||[]);setLoading(false);});},[]);
      return(<Modal onClose={onClose} title="ðŸ† Leaderboard">{loading?<Spinner/>:(<div className="space-y-2">{leaders.length===0?<p className="text-center text-gray-400 py-8">No results</p>:leaders.map((p,i)=>(<div key={p.id} className={`flex items-center gap-3 p-3 rounded-lg ${i<3?'bg-gradient-to-r from-amber-900/40 to-transparent':'bg-slate-700/30'}`}><span className="text-xl font-bold w-8 text-center">{i===0?'ðŸ¥‡':i===1?'ðŸ¥ˆ':i===2?'ðŸ¥‰':`${i+1}`}</span><div className="flex-1"><p className="font-bold text-amber-100 truncate">{p.display_name||p.username||'Player'}</p><p className="text-xs text-gray-400">{p.total_wins}/{p.total_games}</p></div><p className="text-lg font-bold text-amber-400">{p.highest_score}</p></div>))}</div>)}</Modal>);
    };

    // ===== PREMIUM MODAL =====
    const PremiumModal=({onClose})=>{
      const{user}=useAuth();const{t}=useLang();const[loading,setLoading]=useState(false);const[promo,setPromo]=useState('');const[error,setError]=useState('');
      const handlePurchase=async()=>{if(!user){setError('Login first');return;}setLoading(true);setError('');try{const res=await fetch('/.netlify/functions/create-checkout',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({userId:user.id,userEmail:user.email,promo:promo.trim()||undefined})});const data=await res.json();if(data.error)setError(data.error);else if(data.url)window.location.href=data.url;}catch(e){setError('Error');}setLoading(false);};
      const features=['ðŸ›ï¸ 6 political systems','ðŸ† All achievements','ðŸ“Š Extended stats','ðŸš« No ads','ðŸ’¾ Cloud saves'];
      return(<Modal onClose={onClose} title="â­ Premium"><div className="text-center mb-4"><div className="text-4xl font-bold text-amber-400 mb-1">{t('ui.premiumPrice')}</div></div><div className="bg-slate-700/30 rounded-lg p-4 mb-4 space-y-2">{features.map((f,i)=>(<div key={i} className="text-gray-300">{f}</div>))}</div><input type="text" placeholder="Promo code" value={promo} onChange={e=>setPromo(e.target.value)} className="w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-2 text-white mb-4"/>{error&&<p className="text-red-400 text-sm mb-2">{error}</p>}<button onClick={handlePurchase} disabled={loading} className="w-full py-3 bg-gradient-to-r from-amber-500 to-yellow-500 text-slate-900 rounded-lg font-bold disabled:opacity-50">{loading?'...':'Subscribe'}</button></Modal>);
    };

    // ===== MAIN GAME =====
    function Game(){
      const{user,profile,loading:authLoading,initialized}=useAuth();
      const{lang,setLang,t}=useLang();

      const[phase,setPhase]=useState('lang');
      const[turn,setTurn]=useState(1);
      const[maxTurns,setMaxTurns]=useState(15);
      const[difficulty,setDifficulty]=useState('normal');
      const[stats,setStats]=useState({happiness:60,wealth:50,stability:70});
      const[hydrobite,setHydrobite]=useState(100);
      const[budget,setBudget]=useState({defence:20,education:20,health:20,infra:20,welfare:20});
      const[system,setSystem]=useState('parliamentary');
      const[planetId,setPlanetId]=useState('terranova');
      const[event,setEvent]=useState(null);
      const[eventQueue,setEventQueue]=useState([]);
      const[usedEvents,setUsedEvents]=useState([]);
      const[finalScore,setFinalScore]=useState(0);
      const[victoryType,setVictoryType]=useState(null);
      const[eventsPerTurn,setEventsPerTurn]=useState(1);
      const[targetHappiness,setTargetHappiness]=useState(70);
      const[targetWealth,setTargetWealth]=useState(70);
      const[targetStability,setTargetStability]=useState(70);
      const[showAdvanced,setShowAdvanced]=useState(false);

      const[showAuth,setShowAuth]=useState(false);
      const[showProfile,setShowProfile]=useState(false);
      const[showLeaderboard,setShowLeaderboard]=useState(false);
      const[showPremium,setShowPremium]=useState(false);
      const[toast,setToast]=useState(null);
      const[introStep,setIntroStep]=useState(0);

      const sys=SYSTEMS[system];
      const planet=PLANETS[planetId];
      const diff=DIFFICULTIES[difficulty];
      const totalBudget=Object.values(budget).reduce((a,b)=>a+b,0);
      const remaining=hydrobite-totalBudget;
      const isPremium=profile?.is_premium||false;

      useEffect(()=>{
        const params=new URLSearchParams(window.location.search);
        if(params.get('success')==='true'){window.history.replaceState({},'','/');setToast({message:'âœ… Payment successful!',type:'success'});setTimeout(()=>window.location.reload(),2000);}
        else if(params.get('canceled')==='true'){window.history.replaceState({},'','/');setToast({message:'Payment canceled',type:'warning'});}
      },[]);

      useEffect(()=>{if(lang)setPhase('title');},[lang]);

      const showToast=useCallback((message,type='info')=>setToast({message,type}),[]);

      const calculateScore=useCallback((s,t,isVictory)=>{
        let score=Math.floor((s.happiness+s.wealth+s.stability)/3);
        score+=t*2;if(isVictory)score+=20;
        if(difficulty==='hard')score+=15;if(difficulty==='easy')score-=10;
        return Math.max(0,score);
      },[difficulty]);

      const endGame=useCallback(async(isVictory,vType=null)=>{
        const score=calculateScore(stats,turn,isVictory);
        setFinalScore(score);setVictoryType(vType);
        if(user){
          const gameData={planet:T.planets[planetId].name[lang],system,difficulty,maxTurns,turn,stats,hydrobite,isVictory,victoryType:vType,score,duration:0};
          await db.saveGameResult(user.id,gameData);
        }
        setPhase(isVictory?'victory':'gameover');
      },[user,planetId,system,difficulty,maxTurns,turn,stats,hydrobite,lang,calculateScore]);

      const startGame=useCallback(()=>{
        if(!isPremium&&SYSTEMS[system].premium){showToast('ðŸ”’ Premium required!','warning');return;}
        const d=DIFFICULTIES[difficulty];const p=PLANETS[planetId];const s=SYSTEMS[system];
        setStats({happiness:Math.max(10,Math.min(90,p.stats.happiness+d.bonus-(s.traits.startPenalty||0))),wealth:Math.max(10,Math.min(90,p.stats.wealth+d.bonus)),stability:Math.max(10,Math.min(90,p.stats.stability+d.bonus+s.traits.stabilityBonus))});
        setHydrobite(100+d.hydroBonus);setTurn(1);setBudget({defence:20,education:20,health:20,infra:20,welfare:20});setUsedEvents([]);setEventQueue([]);setPhase('playing');
      },[system,difficulty,planetId,isPremium,showToast]);

      const getRandomEvents=useCallback((count)=>{
        const general=[...EVENTS.general];const specific=EVENTS[system]||[];const all=[...general,...specific];
        let available=all.filter(e=>!usedEvents.includes(e.id));if(available.length<count){setUsedEvents([]);available=all;}
        const selected=[];for(let i=0;i<count&&available.length>0;i++){const idx=Math.floor(Math.random()*available.length);selected.push(available[idx]);available.splice(idx,1);}
        return selected;
      },[system,usedEvents]);

      const processTurn=useCallback(()=>{
        if(remaining<0){showToast('âŒ Budget exceeded!','error');return;}
        if(sys.traits.needsApproval&&stats.happiness<sys.traits.threshold){if(Math.random()>0.4){showToast('ðŸ›ï¸ Parliament rejected!','warning');return;}}
        if(sys.traits.referendumChance&&Math.random()<sys.traits.referendumChance){showToast('ðŸ—³ï¸ Referendum!','info');}

        const d=DIFFICULTIES[difficulty];
        let changes={happiness:(budget.welfare*0.35)+(budget.health*0.25)+(budget.education*0.15)-12-sys.traits.happinessDecay-(planet.mods.happinessDecay||0),wealth:(budget.infra*0.4)+(budget.education*0.25)-10+sys.traits.wealthBonus,stability:(budget.defence*0.35)+(budget.infra*0.1)-5-(planet.mods.stabilityDecay||0)};
        Object.keys(changes).forEach(k=>{if(changes[k]<0)changes[k]*=d.severity;});
        const newStats={happiness:Math.max(0,Math.min(100,stats.happiness+changes.happiness)),wealth:Math.max(0,Math.min(100,stats.wealth+changes.wealth)),stability:Math.max(0,Math.min(100,stats.stability+changes.stability))};
        setStats(newStats);setHydrobite(Math.floor(80+newStats.wealth*0.3+d.hydroBonus*0.5));

        const eventCount=eventsPerTurn+(planet.mods.extraEvents||0);
        const events=getRandomEvents(eventCount);
        setUsedEvents(prev=>[...prev,...events.map(e=>e.id)]);
        setEventQueue(events);
        if(events.length>0){setEvent(events[0]);setEventQueue(events.slice(1));setPhase('event');}
        else{setTurn(t=>t+1);setPhase('playing');}
      },[remaining,sys,stats,difficulty,budget,planet,eventsPerTurn,getRandomEvents,showToast]);

      const handleChoice=useCallback((choice)=>{
        const d=DIFFICULTIES[difficulty];let newStats={...stats};
        Object.entries(choice.effects).forEach(([k,v])=>{if(newStats[k]!==undefined){const effectValue=v<0?v*d.severity:v;newStats[k]=Math.max(0,Math.min(100,newStats[k]+effectValue));}});
        let newHydro=hydrobite-choice.cost+(choice.hydro||0);setHydrobite(Math.max(0,newHydro));setStats(newStats);

        if(sys.traits.rebellionRisk&&newStats.happiness<sys.traits.rebellionRisk&&Math.random()<0.3){showToast(t('defeat.rebellion'),'error');setTimeout(()=>endGame(false,'rebellion'),1000);return;}
        if(sys.traits.coupRisk&&newStats.stability<sys.traits.coupRisk&&Math.random()<0.3){showToast(t('defeat.coup'),'error');setTimeout(()=>endGame(false,'coup'),1000);return;}
        if(newStats.stability<=0){endGame(false,'stability');return;}
        if(newStats.happiness<=0){endGame(false,'happiness');return;}
        if(turn>=maxTurns&&newStats.happiness>=targetHappiness&&newStats.wealth>=targetWealth&&newStats.stability>=targetStability){endGame(true,'survival');return;}
        if(newStats.happiness>=95){endGame(true,'utopia');return;}
        if(newStats.wealth>=95){endGame(true,'prosperity');return;}

        if(eventQueue.length>0){setEvent(eventQueue[0]);setEventQueue(q=>q.slice(1));}
        else{setTurn(t=>t+1);setEvent(null);setPhase('playing');}
      },[difficulty,stats,hydrobite,sys,turn,maxTurns,eventQueue,targetHappiness,targetWealth,targetStability,endGame,showToast,t]);

      const handleBudget=useCallback((sector,val)=>{setBudget(prev=>({...prev,[sector]:Math.max(0,Math.min(50,parseInt(val)||0))}));},[]);

      // ===== RENDERS =====
      if(!initialized||authLoading){return(<div className="min-h-screen bg-slate-950 flex items-center justify-center"><Spinner size="lg"/></div>);}

      // LANG SELECT
      if(phase==='lang'){
        return(<div className="min-h-screen bg-slate-950 text-white flex items-center justify-center p-4"><StarBackground/><div className="text-center relative z-10 animate-fadeIn"><h1 className="text-4xl font-display font-bold gold-gradient mb-8">INDEPENDENCE</h1><p className="text-gray-400 mb-6">{T.ui.selectLanguage.ru}</p><div className="space-y-3">{[{id:'ru',flag:'ðŸ‡·ðŸ‡º',name:'Ð ÑƒÑÑÐºÐ¸Ð¹'},{id:'en',flag:'ðŸ‡¬ðŸ‡§',name:'English'},{id:'de',flag:'ðŸ‡©ðŸ‡ª',name:'Deutsch'}].map(l=>(<button key={l.id} onClick={()=>{setLang(l.id);setPhase('intro');}} className="w-full max-w-xs mx-auto flex items-center justify-center gap-3 py-4 bg-slate-800/50 border border-amber-500/30 rounded-xl hover:bg-slate-700/50 text-lg"><span className="text-2xl">{l.flag}</span><span>{l.name}</span></button>))}</div><button onClick={()=>{localStorage.clear();sessionStorage.clear();location.reload();}} className="mt-8 text-gray-600 hover:text-gray-400 text-xs">ðŸ”„ Reset</button></div></div>);
      }

      // INTRO
      if(phase==='intro'){
        const steps=[{title:t('intro.title'),text:t('intro.p1')},{text:t('intro.p2')},{text:t('intro.p3')},{text:t('intro.mission'),isLast:true}];
        const step=steps[introStep];
        return(<div className="min-h-screen bg-slate-950 text-white p-6 flex items-center justify-center"><StarBackground/><div className="max-w-lg mx-auto text-center relative z-10 animate-fadeIn"><div className="bg-slate-800/50 border border-amber-500/30 rounded-2xl p-8">{step.title&&<h2 className="text-2xl font-display text-amber-400 mb-6">{step.title}</h2>}<p className="text-lg text-gray-300 leading-relaxed mb-8">{step.text}</p><div className="flex gap-4">{introStep>0&&<button onClick={()=>setIntroStep(s=>s-1)} className="flex-1 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg">{t('ui.back')}</button>}<button onClick={()=>{if(step.isLast)setPhase('title');else setIntroStep(s=>s+1);}} className="flex-1 py-3 bg-gradient-to-r from-amber-500 to-yellow-500 text-slate-900 rounded-lg font-bold">{step.isLast?t('ui.startGame'):t('ui.next')}</button></div><div className="flex justify-center gap-2 mt-6">{steps.map((_,i)=>(<div key={i} className={`w-2 h-2 rounded-full ${i===introStep?'bg-amber-500':'bg-slate-600'}`}/>))}</div></div><button onClick={()=>setPhase('title')} className="mt-4 text-gray-500 hover:text-gray-400 text-sm">{t('ui.skip')}</button></div></div>);
      }

      // TITLE
      if(phase==='title'){
        return(<div className="min-h-screen bg-slate-950 text-white p-4 relative"><StarBackground/><div className="max-w-md mx-auto pt-4 relative z-10">
          <div className="flex justify-between items-center mb-4"><div className="flex gap-2"><button onClick={()=>setShowLeaderboard(true)} className="p-2 bg-slate-800/50 rounded-lg hover:bg-slate-700">ðŸ†</button>{!isPremium&&<button onClick={()=>setShowPremium(true)} className="px-3 py-2 bg-gradient-to-r from-amber-500 to-yellow-500 text-slate-900 rounded-lg text-sm font-bold">â­ Premium</button>}</div>{user?<button onClick={()=>setShowProfile(true)} className="flex items-center gap-2 px-3 py-2 bg-slate-800/50 rounded-full hover:bg-slate-700"><div className="w-6 h-6 bg-amber-600 rounded-full flex items-center justify-center text-xs font-bold">{profile?.display_name?.[0]?.toUpperCase()||'ðŸ‘¤'}</div><span className="text-sm text-amber-300">{profile?.display_name||'Profile'}</span>{profile?.is_premium&&<span className="text-amber-400">â­</span>}</button>:<button onClick={()=>setShowAuth(true)} className="px-4 py-2 bg-amber-600 hover:bg-amber-500 rounded-full text-sm font-bold">{t('ui.login')}</button>}</div>

          <div className="text-center mb-6"><h1 className="text-4xl sm:text-5xl font-display font-bold gold-gradient mb-2">{t('ui.title')}</h1><p className="text-amber-200/60 text-sm tracking-widest">{t('ui.subtitle')}</p><button onClick={()=>{localStorage.removeItem('lang');setLang('');setPhase('lang');}} className="mt-3 text-gray-500 hover:text-gray-400 text-sm">ðŸŒ {lang==='ru'?'Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐ·Ñ‹Ðº':lang==='en'?'Change language':'Sprache Ã¤ndern'}</button></div>

          <div className="mb-4"><label className="text-sm text-gray-400 block mb-2">ðŸŒ {t('ui.choosePlanet')}</label><div className="grid grid-cols-5 gap-2">{Object.entries(PLANETS).map(([id,p])=>(<button key={id} onClick={()=>setPlanetId(id)} className={`p-2 rounded-lg border text-center transition ${planetId===id?'border-amber-500 bg-amber-500/20':'border-slate-600 hover:border-slate-500'}`}><span className="text-2xl block">{p.icon}</span><span className="text-xs text-gray-400">{'â˜…'.repeat(p.difficulty)}</span></button>))}</div><div className="bg-slate-800/30 rounded-lg p-3 mt-2"><p className="text-amber-300 font-bold text-sm">{T.planets[planetId].name[lang]} <span className="text-gray-500 font-normal">â€¢ {T.planets[planetId].traits[lang]}</span></p><p className="text-gray-400 text-xs mt-1">{T.planets[planetId].desc[lang]}</p>{T.planets[planetId].quote&&<p className="text-amber-200/50 text-xs mt-2 italic">{T.planets[planetId].quote[lang]}</p>}</div></div>

          <div className="mb-4"><label className="text-sm text-gray-400 block mb-1">ðŸ“Š {t('ui.difficulty')}</label><div className="grid grid-cols-3 gap-2">{Object.entries(DIFFICULTIES).map(([key,d])=>(<button key={key} onClick={()=>setDifficulty(key)} className={`py-3 rounded-lg border text-sm transition ${difficulty===key?'border-amber-500 bg-amber-500/20 text-amber-300':'border-slate-600 text-gray-400 hover:border-slate-500'}`}>{d.icon} {t(`ui.${key}`)}</button>))}</div></div>

          <div className="mb-4"><label className="text-sm text-gray-400 block mb-1">â±ï¸ {t('ui.gameLength')}: {maxTurns} {t('ui.years')}</label><input type="range" min="10" max="30" step="5" value={maxTurns} onChange={e=>setMaxTurns(parseInt(e.target.value))} className="w-full" style={{background:`linear-gradient(90deg,#d97706 ${(maxTurns-10)/20*100}%,#1e293b ${(maxTurns-10)/20*100}%)`}}/></div>

          <div className="mb-4"><label className="text-sm text-gray-400 block mb-1">ðŸ›ï¸ {t('ui.politicalSystem')}</label><div className="grid grid-cols-2 gap-2">{Object.entries(SYSTEMS).map(([id,s])=>(<button key={id} onClick={()=>setSystem(id)} className={`p-3 rounded-lg border text-left transition ${system===id?'border-amber-500 bg-amber-500/10':'border-slate-600 hover:border-slate-500'} ${s.premium&&!isPremium?'opacity-60':''}`}><div className="flex items-center gap-2"><span className="text-xl">{s.icon}</span><span className="text-sm font-bold text-amber-200">{T.systems[id].name[lang]}</span>{s.premium&&!isPremium&&<span className="text-xs bg-amber-500/20 text-amber-400 px-1 rounded">â­</span>}</div></button>))}</div><div className="bg-slate-800/30 rounded-lg p-3 mt-2"><p className="text-gray-400 text-xs">{T.systems[system].desc[lang]}</p><div className="flex gap-4 mt-2 text-xs"><span className="text-green-400">âœ“ {T.systems[system].pros[lang]}</span><span className="text-red-400">âœ— {T.systems[system].cons[lang]}</span></div></div></div>

          <button onClick={()=>setShowAdvanced(!showAdvanced)} className="w-full text-sm text-gray-400 hover:text-gray-300 mb-4">{showAdvanced?'â–²':'â–¼'} {t('ui.advancedSettings')}</button>

          {showAdvanced&&(<div className="bg-slate-800/50 rounded-lg p-4 mb-4 space-y-4">
            <div><label className="text-sm text-gray-400">{t('ui.eventsPerTurn')}: {eventsPerTurn}</label><input type="range" min="1" max="4" value={eventsPerTurn} onChange={e=>setEventsPerTurn(parseInt(e.target.value))} className="w-full"/></div>
            <div><label className="text-sm text-gray-400">{t('ui.target')} {t('ui.happiness')}: {targetHappiness}%</label><input type="range" min="50" max="90" step="5" value={targetHappiness} onChange={e=>setTargetHappiness(parseInt(e.target.value))} className="w-full"/></div>
            <div><label className="text-sm text-gray-400">{t('ui.target')} {t('ui.wealth')}: {targetWealth}%</label><input type="range" min="50" max="90" step="5" value={targetWealth} onChange={e=>setTargetWealth(parseInt(e.target.value))} className="w-full"/></div>
            <div><label className="text-sm text-gray-400">{t('ui.target')} {t('ui.stability')}: {targetStability}%</label><input type="range" min="50" max="90" step="5" value={targetStability} onChange={e=>setTargetStability(parseInt(e.target.value))} className="w-full"/></div>
          </div>)}

          <button onClick={startGame} className="w-full py-4 bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-500 text-slate-900 rounded-xl font-display font-bold text-lg hover:from-amber-400 hover:to-yellow-400">{t('ui.startGame')}</button>
        </div>
        {showAuth&&<AuthModal onClose={()=>setShowAuth(false)}/>}
        {showProfile&&<ProfileModal onClose={()=>setShowProfile(false)}/>}
        {showLeaderboard&&<LeaderboardModal onClose={()=>setShowLeaderboard(false)}/>}
        {showPremium&&<PremiumModal onClose={()=>setShowPremium(false)}/>}
        {toast&&<Toast message={toast.message} type={toast.type} onClose={()=>setToast(null)}/>}
        </div>);
      }

      // PLAYING
      if(phase==='playing'){
        return(<div className="min-h-screen bg-slate-950 text-white p-4"><StarBackground/><div className="max-w-md mx-auto relative z-10">
          <div className="flex justify-between items-center mb-4"><div className="flex items-center gap-2"><span className="text-2xl">{sys.icon}</span><span className="text-amber-300 font-bold">{T.systems[system].leader[lang]}</span></div><div className="text-right"><span className="text-amber-400 font-display">{t('ui.year')} {turn}/{maxTurns}</span><p className="text-xs text-gray-500">{T.planets[planetId].name[lang]}</p></div></div>

          <div className="bg-slate-800/50 rounded-xl p-4 border border-amber-500/20 mb-4">
            <StatBar label={t('ui.happiness')} value={stats.happiness} icon="ðŸ˜Š" color="bg-gradient-to-r from-green-600 to-green-400"/>
            <StatBar label={t('ui.wealth')} value={stats.wealth} icon="ðŸ’°" color="bg-gradient-to-r from-yellow-600 to-yellow-400"/>
            <StatBar label={t('ui.stability')} value={stats.stability} icon="âš–ï¸" color="bg-gradient-to-r from-blue-600 to-blue-400"/>
            <div className="flex justify-between items-center mt-3 pt-3 border-t border-slate-700"><span className="text-amber-200/80">ðŸ’Ž {t('ui.budget')}</span><span className={`font-bold ${remaining<0?'text-red-400':'text-amber-300'}`}>{hydrobite} ({remaining>=0?'+':''}{remaining})</span></div>
          </div>

          <div className="bg-slate-800/50 rounded-xl p-4 border border-amber-500/20 mb-4">{SECTORS.map(sec=>(<div key={sec.id} className="mb-3"><div className="flex justify-between text-sm mb-1"><span className="text-amber-100/80">{sec.icon} {T.sectors[sec.id].name[lang]}</span><span className="text-amber-300 font-bold">{budget[sec.id]}</span></div><input type="range" min="0" max="50" value={budget[sec.id]} onChange={e=>handleBudget(sec.id,e.target.value)} className="w-full" style={{background:`linear-gradient(90deg,#d97706 ${budget[sec.id]*2}%,#1e293b ${budget[sec.id]*2}%)`}}/></div>))}</div>

          <button onClick={processTurn} disabled={remaining<0} className="w-full py-4 bg-gradient-to-r from-amber-500 to-yellow-500 text-slate-900 rounded-xl font-bold text-lg disabled:opacity-50">{t('ui.submit')}</button>
        </div>{toast&&<Toast message={toast.message} type={toast.type} onClose={()=>setToast(null)}/>}</div>);
      }

      // EVENT
      if(phase==='event'&&event){
        return(<div className="min-h-screen bg-slate-950 text-white p-4 flex items-center justify-center"><StarBackground/><div className="max-w-md w-full relative z-10 animate-slideUp"><div className="bg-slate-800 rounded-2xl border border-amber-500/30 overflow-hidden"><div className="bg-gradient-to-r from-amber-900/50 to-slate-800 p-6 text-center"><span className="text-5xl block mb-2">{event.icon}</span><h2 className="text-xl font-display font-bold text-amber-400">{event.title[lang]}</h2></div><div className="p-6"><p className="text-gray-300 text-center mb-6">{event.desc[lang]}</p><div className="space-y-3">{event.choices.map((choice,i)=>(<button key={i} onClick={()=>handleChoice(choice)} className="w-full p-4 bg-slate-700/50 hover:bg-slate-600/50 border border-slate-600 hover:border-amber-500/50 rounded-xl text-left transition"><div className="flex justify-between items-start mb-1"><span className="font-bold text-amber-200">{choice.text[lang]}</span><span className="text-amber-400 text-sm">-{choice.cost}ðŸ’Ž</span></div><div className="flex gap-2 mt-2 text-xs">{Object.entries(choice.effects).map(([k,v])=>(<span key={k} className={v>=0?'text-green-400':'text-red-400'}>{k==='happiness'?'ðŸ˜Š':k==='wealth'?'ðŸ’°':'âš–ï¸'}{v>=0?'+':''}{v}</span>))}</div></button>))}</div></div></div></div></div>);
      }

      // VICTORY
      if(phase==='victory'){
        return(<div className="min-h-screen bg-slate-950 text-white p-4 flex items-center justify-center"><StarBackground/><div className="max-w-md w-full text-center relative z-10 animate-slideUp"><div className="bg-gradient-to-b from-amber-900/50 to-slate-800 rounded-2xl border border-amber-500/50 p-8"><span className="text-6xl block mb-4">ðŸ†</span><h1 className="text-3xl font-display font-bold gold-gradient mb-4">{t('ui.victory')}</h1><p className="text-amber-200 mb-6">{T.victoryMsg[victoryType||'survival']?.[lang]}</p><div className="bg-slate-800/50 rounded-xl p-4 mb-6"><div className="text-4xl font-bold text-amber-400 mb-2">{finalScore}</div><p className="text-gray-400">{t('ui.score')}</p></div><div className="grid grid-cols-3 gap-4 mb-6"><div className="text-center"><span className="text-2xl">ðŸ˜Š</span><p className="text-lg font-bold text-green-400">{Math.round(stats.happiness)}%</p></div><div className="text-center"><span className="text-2xl">ðŸ’°</span><p className="text-lg font-bold text-yellow-400">{Math.round(stats.wealth)}%</p></div><div className="text-center"><span className="text-2xl">âš–ï¸</span><p className="text-lg font-bold text-blue-400">{Math.round(stats.stability)}%</p></div></div><button onClick={()=>{setPhase('title');setIntroStep(0);}} className="w-full py-4 bg-gradient-to-r from-amber-500 to-yellow-500 text-slate-900 rounded-xl font-bold">{t('ui.playAgain')}</button></div></div></div>);
      }

      // GAMEOVER
      if(phase==='gameover'){
        return(<div className="min-h-screen bg-slate-950 text-white p-4 flex items-center justify-center"><StarBackground/><div className="max-w-md w-full text-center relative z-10 animate-slideUp"><div className="bg-gradient-to-b from-red-900/50 to-slate-800 rounded-2xl border border-red-500/50 p-8"><span className="text-6xl block mb-4">ðŸ’€</span><h1 className="text-3xl font-display font-bold text-red-400 mb-4">{t('ui.defeat')}</h1><p className="text-red-200 mb-6">{T.defeat[victoryType||'stability']?.[lang]}</p><div className="bg-slate-800/50 rounded-xl p-4 mb-6"><p className="text-gray-400">{t('ui.year')} {turn} / {maxTurns}</p><p className="text-2xl font-bold text-red-400">{finalScore} {t('ui.score')}</p></div><button onClick={()=>{setPhase('title');setIntroStep(0);}} className="w-full py-4 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl font-bold">{t('ui.playAgain')}</button></div></div></div>);
      }
      return null;
    }

    function App(){return(<AuthProvider><LangProvider><Game/></LangProvider></AuthProvider>);}
    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
  <script>
    // Cleanup on load
    if('serviceWorker' in navigator){navigator.serviceWorker.getRegistrations().then(r=>r.forEach(r=>r.unregister()));caches.keys().then(k=>k.forEach(k=>caches.delete(k)));}
    // Reset function for debugging
    window.resetGame=()=>{localStorage.clear();sessionStorage.clear();location.reload();};
    // Auto-reset if stuck (check via URL param)
    if(location.search.includes('reset')){localStorage.clear();sessionStorage.clear();history.replaceState({},'',location.pathname);location.reload();}
  </script>
</body>
</html>
